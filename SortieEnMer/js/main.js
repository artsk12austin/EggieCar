/*! Swann KNANI <swann.knani@gmail.com> ( http://www.linkedin.com/in/swannknani ) -- Sortie en mer - v1.0.0 */(function(){var a,b=[].slice,c=function(a,b){return function(){return a.apply(b,arguments)}},d={}.hasOwnProperty,e=function(a,b){function c(){this.constructor=a}for(var e in b)d.call(b,e)&&(a[e]=b[e]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};a=function(a,c,d){var e,f,g,h,i,j;for(arguments.length<3&&(i=["undefined"!=typeof exports?exports:window].concat(b.call(arguments)),a=i[0],c=i[1],d=i[2]),f=a,j=c.split("."),g=0,h=j.length;h>g;g++)e=j[g],a=a[e]||(a[e]={});return d(a,f)},window.console||(window.console={log:function(a){return a},dir:function(a){return a}}),window.config.LOG||(window.console.log=function(){}),a("window",function(a){return a.App=function(){function a(){this.fail=c(this.fail,this),this.success=c(this.success,this),this.start=c(this.start,this),this.init=c(this.init,this),_.extend(this,Backbone.Events)}return a.prototype.service=null,a.prototype.mediator=null,a.prototype.config=null,a.prototype.state=null,a.prototype.view=null,a.prototype.router=null,a.prototype.loader=null,a.prototype.data=null,a.prototype.controllers=null,a.prototype.experienceController=null,a.prototype.scrollerController=null,a.prototype.soundsController=null,a.prototype.sharer=null,a.prototype.helper=null,a.prototype.tracking=null,a.prototype.init=function(){var a,b;return this.state=new Application.State,this.config=new Application.Config,this.service=new Application.Service,this.mediator=new Application.Mediator,this.router=new Application.Router,a=new Application.Data,b=this.config.LANGUAGE_FR?a.data.fr:a.data.en,this.data=new Application.Model.LabelModel(b),this.helper=new Application.Helper,this.view=new Application.View.AppView,this.tracking=new Application.Tracking,!this.config.TABLET_ENABLED&&this.state.IS_TABLET&&(this.state.IS_MOBILE=!0),this.state.CAPABLE?this.state.IS_MOBILE?this.fail(!0,!1):this.success():this.fail(!1,!0)},a.prototype.start=function(){return this.config.DEBUG&&!window.config.PROD&&sessionStorage.setItem("finished",!0),this.view.start(),this.router.start(),this.service.trigger(this.service.EVENT_APPLICATION_STARTED)},a.prototype.success=function(){return this.sharer=new Application.Sharer,this.experienceController=new Application.Controller.ExperienceController,this.loader=new Application.Loader,this.config.SOUND&&(this.soundsController=new Application.Controller.SoundsController),this.listenToOnce(this.service,this.service.EVENT_APP_PRELOAD_COMPLETE,this.start),this.service.trigger(this.service.EVENT_START_APP_PRELOAD)},a.prototype.fail=function(a,b){return null==a&&(a=!1),null==b&&(b=!1),this.view.fail(a,b),this.router.start()},a}()}),$(function(){return window.App=new App,window.App.init()}),a("Application",function(a){return a.Config=function(){function a(){this.DEBUG=null!=window.config.DEBUG?window.config.DEBUG:this.DEBUG,this.LOG=null!=window.config.LOG?window.config.LOG:this.LOG,this.CDN=null!=window.config.CDN?window.config.CDN:this.CDN,this.SOUND=null!=window.config.SOUND?window.config.SOUND:this.SOUND,this.LANG=null!=window.config.LANG?window.config.LANG:this.LANG,this.TABLET_ENABLED=null!=window.config.TABLET_ENABLED?window.config.TABLET_ENABLED:this.TABLET_ENABLED,this.LANG===this.DEFAULT_LANGUAGE?(this.LANGUAGE_FR=!0,this.LANGUAGE_EN=!1):(this.LANGUAGE_FR=!1,this.LANGUAGE_EN=!0),this.ROOT_URL=Backbone.history.location.protocol+"//"+Backbone.history.location.host+Backbone.history.location.pathname,this.VENDOR_THREE=this.ROOT_URL+this.VENDOR_THREE,this.CDN?(this.IMAGES_PATH=this.CDN_URL+this.IMAGES_PATH,this.SOUNDS_PATH=this.CDN_URL+this.SOUNDS_PATH,this.VIDEOS_PATH=this.CDN_URL+this.VIDEOS_PATH):(this.IMAGES_PATH=this.ROOT_URL+this.IMAGES_PATH,this.SOUNDS_PATH=this.ROOT_URL+this.SOUNDS_PATH,this.VIDEOS_PATH=this.ROOT_URL+this.VIDEOS_PATH),App.state.IS_TABLET&&(this.EXPERIENCE_VIDEO_NAME="t_"+this.EXPERIENCE_VIDEO_NAME)}return a.prototype.DEBUG=1,a.prototype.LOG=1,a.prototype.SOUND=1,a.prototype.CDN=0,a.prototype.LANG="fr",a.prototype.TABLET_ENABLED=!1,a.prototype.ROOT_URL=null,a.prototype.IMAGES_PATH="images/",a.prototype.SOUNDS_PATH="sounds/",a.prototype.VIDEOS_PATH="videos/",a.prototype.LANGUAGE_FR=null,a.prototype.LANGUAGE_EN=null,a.prototype.DEFAULT_LANGUAGE="fr",a.prototype.VENDOR_THREE="js/vendor/three.js",a.prototype.CDN_URL="http://s3-eu-west-1.amazonaws.com/guy-cotten/",a.prototype.VIDEO_WIDTH=1280,a.prototype.VIDEO_HEIGHT=720,a.prototype.EXPERIENCE_VIDEO_NAME="guy_cotten_experience_master_720p",a.prototype.EXPERIENCE_VIDEO_DURATION=450,a.prototype.DEATH_VIDEO_NAME="guy_cotten_experience_death_720p",a}()}),a("Application",function(a){return a.Data=function(){function a(){this.data={fr:{label_website_url:"sortieenmer.com",label_loading_small_title:"GUY COTTEN PRÉSENTE",label_loading_start_button:"Commencer l'experience",label_loading_disclaimer:"écouteurs et plein écran recommandés",label_loading_disclaimer_wfs:"écouteurs recommandés",label_skip_intro:"Passer l'introduction",label_credits_conception:"Conception",label_credits_digital_production:"production vidéo et digitale",label_credits_film_maker:"réalisation",label_credits_close:"Fermer",label_footer_credits:"Crédits",label_footer_guycotten:"GUY COTTEN",label_footer_help_label:"Aide",label_footer_sound_label:"Volume",label_footer_full_screen_label:"Plein écran",label_footer_share_label:"Partager",label_help_scroll_title:"Utilisez le scroll de votre souris<br> ou de votre trackpad",label_help_keyboard_title:"ou Utilisez la flèche<br> de votre clavier",label_help_info:"Scroller sans vous arrêter est le seul moyen de rester à la surface.",label_help_tablet_title:"Swiper",label_help_tablet_desc:"vers le haut pour vous<br>maintenir à la surface",label_help_tablet_info:"Swiper sans vous arrêter est le seul moyen de rester à la surface.",label_tutorial_title:"Scrollez",label_tutorial_title_tablet:"Swipez",label_tutorial_desc:"pour vous maintenir<br>à la surface",label_tired_title:"déjà fatigué ?",label_tired_desc:"continuez de SCROLLER <br>pour vous maintenir à la surface",label_tired_desc_tablet:"continuez de SWIPPER <br>pour vous maintenir à la surface",label_button_close:"Fermer",label_end_step1:"Vous vous êtes noyé au bout de {{MINUTES}} min {{SECONDS}}.",label_end_step2:"En mer, on se fatigue plus vite qu’on ne le pense.",label_end_step3:"à chaque sortie en mer, portez votre gilet de sauvetage.",label_end_step4:null,label_sharing_drowning:"{{count}} participants se sont déjà noyés",label_sharing_share:"PARTAGEZ l’expérience avec vos amis",label_sharing_retry:"Scrollez pour<br>recommencer l'expérience",label_sharing_retry_tablet:"Swipez pour<br>recommencer l'expérience",label_sharing_credits:"crédits",label_sharing_website:"guy cotten",label_sharing_website_url:"http://www.guycotten.com/",label_sharing_facebook_step1_name:"Sortie en mer",label_sharing_facebook_step2_name:"Je me suis noyé au bout de {{MINUTES}} min {{SECONDS}}. Et vous, combien de temps tiendrez-vous ?",label_sharing_facebook_link:"http://sortieenmer.com",label_sharing_facebook_picture:App.config.IMAGES_PATH+"share_fr.jpg",label_sharing_facebook_picture:"http://s3-eu-west-1.amazonaws.com/guy-cotten/images/share_fr.jpg",label_sharing_facebook_caption:"sortieenmer.com",label_sharing_facebook_description:"Embarquez pour une expérience interactive et immersive.",label_sharing_twitter_step1:"Embarquez pour une expérience interactive et immersive sur ",label_sharing_twitter_step2:"Je me suis noyé au bout de {{MINUTES}} min {{SECONDS}}. Et vous, combien de temps tiendrez-vous ?",label_sharing_twitter_hashtag:"sortieenmer",label_unsupported_browser:"Cette expérience nécessite une version plus récente de votre navigateur.<br>cliquez ci-dessous pour télécharger la dernière version.",label_unsupported_mobile:"Pour profiter de cette expérience,<br>connectez-vous avec votre ordinateur<br>ou avec votre ipad.",label_unsupported_tablet:"Pour profiter de cette expérience,<br>connectez-vous avec votre ordinateur.",label_wrong_orientation:"tournez votre tablette<br>pour profiter de cette expérience."},en:{label_website_url:"sortieenmer.com",label_loading_small_title:"GUY COTTEN PRESENTS",label_loading_baseline:"- A trip out to sea -",label_loading_start_button:"Start the experience",label_loading_disclaimer:"speakers and fullscreen recommended",label_loading_disclaimer_wfs:"speakers recommended",label_skip_intro:"SKIP INTRO",label_credits_conception:"Conception",label_credits_digital_production:"Video and Digital Production",label_credits_film_maker:"Direction",label_credits_close:"Close",label_footer_credits:"Credits",label_footer_guycotten:"GUY COTTEN",label_footer_help_label:"Help",label_footer_sound_label:"Volume",label_footer_full_screen_label:"Fullscreen",label_footer_share_label:"Share",label_help_scroll_title:"Scroll with your mouse<br>or trackpad",label_help_keyboard_title:"or use your<br>keyboard arrows",label_help_info:"Scrolling without stopping is the only way to stay on the surface.",label_help_tablet_title:"Swipe",label_help_tablet_desc:"to stay<br>on the surface",label_help_tablet_info:"Swiping without stopping is the only way to stay on the surface.",label_tutorial_title:"Scroll",label_tutorial_title_tablet:"Swipe",label_tutorial_desc:"to stay<br>on the surface",label_tired_title:"Already tired ?",label_tired_desc:"keep scrolling <br>to stay on the surface",label_tired_desc_tablet:"keep Swiping <br>to stay on the surface",label_button_close:"Close",label_end_step1:"You drowned after {{MINUTES}}:{{SECONDS}}min.",label_end_step2:"At sea, you tire faster than you think.",label_end_step3:"Whenever you go out to sea, wear your life jacket.",label_end_step4:"GUY COTTEN - MARINERS' SHELTER",label_sharing_drowning:"{{count}} participants have already drowned",label_sharing_share:"Share the experience with your friends",label_sharing_retry:"Scroll to restart<br>the experience",label_sharing_retry_tablet:"Swipe to restart<br>the experience",label_sharing_credits:"credits",label_sharing_website:"guy cotten",label_sharing_website_url:"http://www.guycotten.com/",label_sharing_facebook_step1_name:"A trip to sea",label_sharing_facebook_step2_name:"I drowned after {{MINUTES}}:{{SECONDS}}min. How long will you hold on ?",label_sharing_facebook_link:"http://sortieenmer.com",label_sharing_facebook_picture:"http://s3-eu-west-1.amazonaws.com/guy-cotten/images/share_en.jpg",label_sharing_facebook_caption:"sortieenmer.com",label_sharing_facebook_description:"Enter the interactive and immersive experience.",label_sharing_twitter_step1:"Enter the interactive and immersive experience at ",label_sharing_twitter_step2:"I drowned after {{MINUTES}}:{{SECONDS}}min. How long will you hold on ?",label_sharing_twitter_hashtag:"sortieenmer",label_unsupported_browser:"This experience requires a more recent version of your browser.<br>Click here to download the latest version.",label_unsupported_mobile:"To enjoy this experience,<br>connect using your computer or iPad.",label_unsupported_tablet:"To enjoy this experience,<br>connect using your computer.",label_wrong_orientation:"Turn your device<br>in order to enjoy this experience."}}}return a.prototype.data=null,a}()}),a("Application",function(a){return a.Loader=function(){function a(){this.error=c(this.error,this),this.initPreload=c(this.initPreload,this),this.experiencePreloadcomplete=c(this.experiencePreloadcomplete,this),this.experiencePreloadprogress=c(this.experiencePreloadprogress,this),this.experiencePreloadAddEventListener=c(this.experiencePreloadAddEventListener,this),this.experiencePreload=c(this.experiencePreload,this),this.appPreloadcomplete=c(this.appPreloadcomplete,this),this.appPreloadAddEventListener=c(this.appPreloadAddEventListener,this),this.appPreload=c(this.appPreload,this),this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this);var a,b;if(_.extend(this,Backbone.Events),"undefined"!=typeof options&&null!==options)for(a in options)b=options[a],this[a]=b;null!=this.loader&&this.loader.close(),this.loader=new createjs.LoadQueue(!1),this.loader.setMaxConnections(this.MAXCONNECTIONS),this.addEventListener()}return a.prototype.DEBUG=!1,a.prototype.options=null,a.prototype.MAXCONNECTIONS=7,a.prototype.assets=null,a.prototype.loader=null,a.prototype.completeLoop=null,a.prototype.addEventListener=function(){return this.listenToOnce(App.service,App.service.EVENT_START_APP_PRELOAD,this.appPreload),App.state.IS_DESKTOP?this.listenToOnce(App.service,App.service.EVENT_APPLICATION_STARTED,this.experiencePreload):App.state.IS_TABLET&&this.listenToOnce(App.service,App.service.EVENT_CLICK_START_EXPERIENCE,this.experiencePreload),this.loader.addEventListener("error",this.error),this},a.prototype.removeEventListener=function(){return this.stopListening(App.service),this.loader.removeEventListener("error",this.error),this},a.prototype.appPreload=function(){var a;return this.DEBUG&&console.log("appPreload"),a=[],App.state.IS_DESKTOP&&(a.push("sprite_guycotten_o.jpg"),a.push(App.config.LANGUAGE_EN?"sprite_guycotten_title_en.jpg":"sprite_guycotten_title.jpg"),App.state.HAS_WEBGL&&a.push(App.config.VENDOR_THREE)),a.length?(this.appPreloadAddEventListener(),this.initPreload(a)):this.appPreloadcomplete(),this},a.prototype.appPreloadAddEventListener=function(){return this.DEBUG&&console.log("appPreloadAddEventListener"),this.loader.addEventListener("complete",this.appPreloadcomplete),this},a.prototype.appPreloadcomplete=function(){return this.DEBUG&&console.log("appPreloadcomplete"),this.loader.removeAllEventListeners(),App.service.trigger(App.service.EVENT_APP_PRELOAD_COMPLETE),this},a.prototype.experiencePreload=function(){var a;return this.DEBUG&&console.log("experiencePreload"),a=["grid.png","poster.jpeg","icon_static_scroll.png","sprite_guycotten_logo.jpg","sprite_guycotten_lifejacket.jpg"],App.config.LANGUAGE_EN?(App.state.IS_DESKTOP&&a.push(App.state.IS_RETINA?"sprite_guycotten_scroll_en@2x.png":"sprite_guycotten_scroll_en.png"),a.push("share_en.jpg")):(App.state.IS_DESKTOP&&a.push(App.state.IS_RETINA?"sprite_guycotten_scroll@2x.png":"sprite_guycotten_scroll.png"),a.push("share_fr.jpg")),this.experiencePreloadAddEventListener(),this.initPreload(a),this},a.prototype.experiencePreloadAddEventListener=function(){return this.DEBUG&&console.log("experiencePreloadAddEventListener"),this.loader.addEventListener("progress",this.experiencePreloadprogress),this.loader.addEventListener("complete",this.experiencePreloadcomplete),this},a.prototype.experiencePreloadprogress=function(){var a,b=this;return a=100*this.loader.progress,App.service.trigger(App.service.EVENT_PRELOAD_ASSETS_PROGRESS,a),a>=100&&(window.clearTimeout(this.completeLoop),this.completeLoop=_.delay(function(){return console.log("experiencePreloadprogress security delay called"),b.experiencePreloadcomplete()},7e3)),this},a.prototype.experiencePreloadcomplete=function(){return console.log("experiencePreloadcomplete"),App.service.trigger(App.service.EVENT_PRELOAD_ASSETS_COMPLETE),this.loader.removeAllEventListeners(),this},a.prototype.initPreload=function(a){return null!=this.assets&&(this.assets.length=0),this.assets=a,this.DEBUG&&console.log("initPreload :: assets : ",this.assets),this.loader.removeAll(),this.loader.loadManifest(this.assets,!0,App.config.IMAGES_PATH),this},a.prototype.error=function(a){return console.log("AppLoader :: ERROR -->",arguments),App.service.trigger(App.service.EVENT_PRELOAD_ASSETS_ERROR,a),this},a}()}),a("Application",function(a){return a.Mediator=function(){function a(){this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),_.extend(this,Backbone.Events),this.addEventListener()}return a.prototype.addEventListener=function(){return this.listenTo(App.service,App.service.EVENT_PRELOAD_ENDED,function(){return App.service.trigger(App.service.EVENT_STOP_SOUND_INTRO)}),this.listenTo(App.service,App.service.EVENT_HIDE_SCREEN,function(){return App.state.HOLD?void 0:(App.service.trigger(App.service.EVENT_PLAY_REQUEST),App.service.trigger(App.service.EVENT_SUBTITLE_SHOW))}),this.listenTo(App.service,App.service.EVENT_SHOW_SCREEN,function(){return 1===App.state.HOLD?(App.service.trigger(App.service.EVENT_PAUSE_REQUEST),App.service.trigger(App.service.EVENT_SUBTITLE_HIDE)):void 0}),this.listenTo(App.service,App.service.EVENT_TAB_INACTIVE,function(){return App.state.HOLD++,1===App.state.HOLD?App.service.trigger(App.service.EVENT_PAUSE_REQUEST,!1):void 0}),this.listenTo(App.service,App.service.EVENT_TAB_ACTIVE,function(){return App.state.HOLD>0&&App.state.HOLD--,App.state.HOLD?void 0:App.service.trigger(App.service.EVENT_PLAY_REQUEST,!1)}),App.state.IS_DESKTOP&&(this.listenTo(App.service,App.service.EVENT_SHARE_POPUP_OPEN,function(a){return null==a&&(a=!0),App.state.HOLD++,1===App.state.HOLD?(App.service.trigger(App.service.EVENT_PAUSE_REQUEST),App.service.trigger(App.service.EVENT_SUBTITLE_HIDE)):void 0}),this.listenTo(App.service,App.service.EVENT_SHARE_POPUP_CLOSE,function(a){return null==a&&(a=!0),App.state.HOLD>0&&App.state.HOLD--,App.state.HOLD?void 0:(App.service.trigger(App.service.EVENT_PLAY_REQUEST),App.service.trigger(App.service.EVENT_SUBTITLE_SHOW))})),this.listenTo(App.service,App.service.EVENT_PRELOAD_ENDED,function(){return App.experienceController.trigger(App.experienceController.EVENT_START_EXPERIENCE_CONTROLLER)}),App.state.IS_TABLET?(this.listenTo(App.service,App.service.EVENT_VIDEO_PLAYING,function(){return App.state.VIDEO_PAUSED=!1}),this.listenTo(App.service,App.service.EVENT_VIDEO_PAUSED,function(){return App.state.VIDEO_PAUSED=!0})):void 0},a.prototype.removeEventListener=function(){return this.stopListening(App.service)},a}()}),a("Application",function(a){var b;return a.Router=function(a){function d(){return this.onEventHashChanged=c(this.onEventHashChanged,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.routes={"*actions":"default"},d.prototype.start=function(){return Backbone.history.start(),App.service.on(App.service.EVENT_HASH_CHANGE,this.onEventHashChanged)},d.prototype.onEventHashChanged=function(a){return null==a&&(a=null),this.navigate(a)},d.prototype["default"]=function(){},d}(Backbone.Router)}),a("Application",function(a){return a.Service=function(){function a(){this.addEventListener=c(this.addEventListener,this),_.extend(this,Backbone.Events),this.addEventListener()}return a.prototype.DEBUG=!0,a.prototype.EVENT_APPLICATION_STARTED="EVENT_APPLICATION_STARTED",a.prototype.EVENT_RESIZE="EVENT_RESIZE",a.prototype.EVENT_EXPERIENCE_MODEL_STATE_CHANGED="EVENT_EXPERIENCE_MODEL_STATE_CHANGED",a.prototype.EVENT_START_APP_PRELOAD="EVENT_START_APP_PRELOAD",a.prototype.EVENT_APP_PRELOAD_COMPLETE="EVENT_APP_PRELOAD_COMPLETE",a.prototype.EVENT_PRELOAD_ASSETS_PROGRESS="EVENT_PRELOAD_ASSETS_PROGRESS",a.prototype.EVENT_PRELOAD_ASSETS_COMPLETE="EVENT_PRELOAD_ASSETS_COMPLETE",a.prototype.EVENT_PRELOAD_ASSETS_ERROR="EVENT_PRELOAD_ASSETS_ERROR",a.prototype.EVENT_PRELOAD_ENDED="EVENT_PRELOAD_ENDED",a.prototype.EVENT_SKIP_INTRO="EVENT_SKIP_INTRO",a.prototype.EVENT_CLICK_GUYCOTTEN_WEBSITE="EVENT_CLICK_GUYCOTTEN_WEBSITE",a.prototype.EVENT_FULLSCREEN="EVENT_FULLSCREEN",a.prototype.EVENT_SHOW_SCREEN="EVENT_SHOW_SCREEN",a.prototype.EVENT_HIDE_SCREEN="EVENT_HIDE_SCREEN",a.prototype.EVENT_SHOW_CREDITS="EVENT_SHOW_CREDITS",a.prototype.EVENT_HIDE_CREDITS="EVENT_HIDE_CREDITS",a.prototype.EVENT_SHOW_HELP="EVENT_SHOW_HELP",a.prototype.EVENT_HIDE_HELP="EVENT_HIDE_HELP",a.prototype.EVENT_SHOW_TIRED="EVENT_SHOW_TIRED",a.prototype.EVENT_HIDE_TIRED="EVENT_HIDE_TIRED",a.prototype.EVENT_SHOW_TUTORIAL="EVENT_SHOW_TUTORIAL",a.prototype.EVENT_SHOW_DEATH_TRANSITION="EVENT_SHOW_DEATH_TRANSITION",a.prototype.EVENT_HIDE_DEATH_TRANSITION="EVENT_HIDE_DEATH_TRANSITION",a.prototype.EVENT_DEATH_TRANSITION_SHOWN="EVENT_DEATH_TRANSITION_SHOWN",a.prototype.EVENT_DEATH_TRANSITION_HIDDEN="EVENT_DEATH_TRANSITION_HIDDEN",a.prototype.EVENT_SHOW_SHARING="EVENT_SHOW_SHARING",a.prototype.EVENT_HIDE_SHARING="EVENT_HIDE_SHARING",a.prototype.EVENT_SHARE_TWITTER="EVENT_SHARE_TWITTER",a.prototype.EVENT_SHARE_FACEBOOK="EVENT_SHARE_FACEBOOK",a.prototype.EVENT_SHARE_GPLUS="EVENT_SHARE_GPLUS",a.prototype.EVENT_SHARE_POPUP_OPEN="EVENT_SHARE_POPUP_OPEN",a.prototype.EVENT_SHARE_POPUP_CLOSE="EVENT_SHARE_POPUP_CLOSE",a.prototype.EVENT_SWITCH_VOLUME="EVENT_SWITCH_VOLUME",a.prototype.EVENT_VOLUME_SWITCHED="EVENT_VOLUME_SWITCHED",a.prototype.EVENT_CLICK_START_EXPERIENCE="EVENT_CLICK_START_EXPERIENCE",a.prototype.EVENT_RETRY_EXPERIENCE="EVENT_RETRY_EXPERIENCE",a.prototype.EVENT_TAB_ACTIVE="EVENT_TAB_ACTIVE",a.prototype.EVENT_TAB_INACTIVE="EVENT_TAB_INACTIVE",a.prototype.EVENT_IS_DIE="EVENT_IS_DIE",a.prototype.EVENT_HAS_INJURY="EVENT_HAS_INJURY",a.prototype.EVENT_START_ENDS_CONTROLLER="EVENT_START_ENDS_CONTROLLER",a.prototype.EVENT_END_SHOW_FIRST_STEP="EVENT_END_SHOW_FIRST_STEP",a.prototype.EVENT_END_SHOW_SECOND_STEP="EVENT_END_SHOW_SECOND_STEP",a.prototype.EVENT_END_SHOW_THIRD_STEP="EVENT_END_SHOW_THIRD_STEP",a.prototype.EVENT_END_SHOW_FOURTH_STEP="EVENT_END_SHOW_FOURTH_STEP",a.prototype.EVENT_EXPERIENCE_VIDEO_SUCCESS="EVENT_EXPERIENCE_VIDEO_SUCCESS",a.prototype.EVENT_EXPERIENCE_VIDEO_READY="EVENT_EXPERIENCE_VIDEO_READY",a.prototype.EVENT_DEATH_VIDEO_SUCCESS="EVENT_DEATH_VIDEO_SUCCESS",a.prototype.EVENT_PAUSE_REQUEST="EVENT_PAUSE_REQUEST",a.prototype.EVENT_PLAY_REQUEST="EVENT_PLAY_REQUEST",a.prototype.EVENT_VIDEO_PLAYING="EVENT_VIDEO_PLAYING",a.prototype.EVENT_VIDEO_PAUSED="EVENT_VIDEO_PAUSED",a.prototype.EVENT_SHADER_RESIZE="EVENT_SHADER_RESIZE",a.prototype.EVENT_SHADER_SET_TEXTURE="EVENT_SHADER_SET_TEXTURE",a.prototype.EVENT_SHADER_SET_OPACITY="EVENT_SHADER_SET_OPACITY",a.prototype.EVENT_SHADER_SWITCH_TIME_DISTORTION="EVENT_SHADER_SWITCH_TIME_DISTORTION",a.prototype.EVENT_PLAY_SOUND_INTRO="EVENT_PLAY_SOUND_INTRO",a.prototype.EVENT_STOP_SOUND_INTRO="EVENT_STOP_SOUND_INTRO",a.prototype.EVENT_PLAY_SOUND_START="EVENT_PLAY_SOUND_START",a.prototype.EVENT_PLAY_SOUND_BPM="EVENT_PLAY_SOUND_BPM",a.prototype.EVENT_PLAY_START_TITLE="EVENT_PLAY_START_TITLE",a.prototype.EVENT_SUBTITLE_UPDATE="EVENT_SUBTITLE_UPDATE",a.prototype.EVENT_SUBTITLE_SHOW="EVENT_SUBTITLE_SHOW",a.prototype.EVENT_SUBTITLE_HIDE="EVENT_SUBTITLE_HIDE",a.prototype.EVENT_SUBTITLE_KILL="EVENT_SUBTITLE_KILL",a.prototype.addEventListener=function(){return this.DEBUG?this.listenTo(this,"all",function(a){var b;return b=["EVENT_PLAY_SOUND_BPM","EVENT_PRELOAD_ASSETS_PROGRESS"],f.call(b,a)>=0?void 0:console.log("AppService EVENT : ",a)}):void 0},a}()}),a("Application",function(a){return a.State=function(){function a(){this.checkSupport=c(this.checkSupport,this);var a,b,d;Modernizr.Detectizr.detect(),this.CLIENT_TYPE=Modernizr.Detectizr.device.type,this.CLIENT_BROWSER=Modernizr.Detectizr.device.browser,this.CLIENT_BROWSER_ENGINE=Modernizr.Detectizr.device.browserEngine,this.CLIENT_BROWSER_VERSION=parseInt(Modernizr.Detectizr.device.browserVersion,10),this.CLIENT_OS=Modernizr.Detectizr.device.os,this.CLIENT_OS_VERSION=Modernizr.Detectizr.device.osVersion,this.CLIENT_ORIENTATION=Modernizr.Detectizr.device.orientation,this.CLIENT_MODEL=Modernizr.Detectizr.device.model,this.COUNT=null!=window.config.COUNT?window.config.COUNT:this.COUNT,d="\\d(?=(\\d{3})+$)",b=this.COUNT.toFixed(Math.max(0,0)),this.COUNT=b.replace(new RegExp(d,"g"),"$& "),"desktop"===this.CLIENT_TYPE?this.IS_DESKTOP=!0:"tablet"===this.CLIENT_TYPE?this.IS_TABLET=!0:"mobile"===this.CLIENT_TYPE&&(this.IS_MOBILE=!0),this.IS_TABLET&&"ipad"!==this.CLIENT_MODEL&&(this.IS_DESKTOP=!1,this.IS_TABLET=!1,this.IS_MOBILE=!0),"ie"!==this.CLIENT_BROWSER||10!==this.CLIENT_BROWSER_VERSION&&11!==this.CLIENT_BROWSER_VERSION||($("html").removeClass("tablet"),this.IS_DESKTOP=!0,this.IS_TABLET=!1,this.IS_MOBILE=!1),"safari"===this.CLIENT_BROWSER&&(this.IS_SAFARI=!0),this.IS_RETINA=(window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx), only screen and (min-resolution: 75.6dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min--moz-device-pixel-ratio: 2), only screen and (min-device-pixel-ratio: 2)").matches)||window.devicePixelRatio&&window.devicePixelRatio>2)&&/(iPad|iPhone|iPod)/g.test(navigator.userAgent),"ie"===this.CLIENT_BROWSER&&this.CLIENT_BROWSER_VERSION<this.OLD_IE_BROWSER_VERSION&&(this.CAPABLE=!1),"firefox"===this.CLIENT_BROWSER&&this.CLIENT_BROWSER_VERSION<this.OLD_FF_BROWSER_VERSION&&(this.CAPABLE=!1),"chrome"===this.CLIENT_BROWSER&&this.CLIENT_BROWSER_VERSION<this.OLD_C_BROWSER_VERSION&&(this.CAPABLE=!1),"safari"===this.CLIENT_BROWSER&&this.CLIENT_BROWSER_VERSION<this.OLD_S_BROWSER_VERSION&&(this.CAPABLE=!1),"opera"===this.CLIENT_BROWSER&&this.CLIENT_BROWSER_VERSION<this.OLD_O_BROWSER_VERSION&&(this.CAPABLE=!1),this.IS_TABLET&&$(document).bind("touchmove",!1);try{this.checkSupport()}catch(e){a=e,console.log("State -> checkSupport : error - ",a)}"ie"===this.CLIENT_BROWSER&&(this.HAS_WEBGL=!1),this.HAS_FULLSCREEN=Modernizr.fullscreen}return a.prototype.CLIENT_TYPE=null,a.prototype.CLIENT_BROWSER=null,a.prototype.CLIENT_BROWSER_ENGINE=null,a.prototype.CLIENT_BROWSER_VERSION=null,a.prototype.CLIENT_OS=null,a.prototype.CLIENT_OS_VERSION=null,a.prototype.CLIENT_ORIENTATION=null,a.prototype.CLIENT_MODEL=null,a.prototype.CAPABLE=!0,a.prototype.IS_DESKTOP=!1,a.prototype.IS_TABLET=!1,a.prototype.IS_MOBILE=!1,a.prototype.IS_RETINA=!1,a.prototype.IS_SAFARI=!1,a.prototype.IS_IPAD=!1,a.prototype.HAS_WEBGL=!1,a.prototype.HAS_FULLSCREEN=!1,a.prototype.OLD_IE_BROWSER_VERSION=10,a.prototype.OLD_FF_BROWSER_VERSION=22,a.prototype.OLD_C_BROWSER_VERSION=27,a.prototype.OLD_S_BROWSER_VERSION=5,a.prototype.OLD_O_BROWSER_VERSION=16,a.prototype.HOLD=0,a.prototype.COUNT=967478,a.prototype.VIDEO_PAUSED=!1,a.prototype.checkSupport=function(){var a=this;if(Modernizr.addTest("fullscreen",function(){var b;if("safari"===a.CLIENT_BROWSER&&a.CLIENT_BROWSER_VERSION<7)return!1;for(b=0;b<Modernizr._domPrefixes.length;){if(document[Modernizr._domPrefixes[b].toLowerCase()+"CancelFullScreen"])return!0;b++}return!!document.cancelFullScreen||!1}),this.HAS_WEBGL=function(){var a,b;try{return a=document.createElement("canvas"),!!window.WebGLRenderingContext&&(a.getContext("webgl")||a.getContext("experimental-webgl"))}catch(c){return b=c,!1}}(),!Modernizr.video)throw"Video support unavailable";if(!Modernizr.canvas)throw"Canvas support unavailable"},a}()}),a("Application.Model",function(a){var b;return a.ExperienceModel=function(a){function d(){return this.onLifeChange=c(this.onLifeChange,this),this.initialize=c(this.initialize,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.defaults={isDead:!1,isDying:!1,life:!1,progress:0,percent:0,state:0,deathProgress:0,firstScroll:0,lastScroll:0},d.prototype.initialize=function(){var a=this;return this.on("change:state",function(){return App.service.trigger(App.service.EVENT_EXPERIENCE_MODEL_STATE_CHANGED,a.get("state"))}),this.on("change:life",this.onLifeChange),d.__super__.initialize.apply(this,arguments)},d.prototype.onLifeChange=function(a,b){return this.get("isDying")||b>=20?void 0:this.set({isDying:!0})},d}(Backbone.Model)}),a("Application.Model",function(a){var b;return a.LabelModel=function(a){function c(){return b=c.__super__.constructor.apply(this,arguments)}return e(c,a),c}(Backbone.Model)}),a("Application.Shader",function(a){return a.BlobShader=function(){function a(){this.uniforms={tDiffuse:{type:"t",value:null},aspect:{type:"v2",value:new THREE.Vector2(512,512)},time:{type:"f",value:.1}}}return a.prototype.uniforms=null,a.prototype.vertexShader=["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),a.prototype.fragmentShader=["uniform sampler2D tDiffuse;","varying vec2 vUv;","uniform vec2 aspect;","uniform float time;","void main(void)","{","vec2 cPos = -1.0 + 1.0 * gl_FragCoord.xy / aspect.xy;","float cLength = length(cPos);","vec2 uv = gl_FragCoord.xy/aspect.xy+(cPos/cLength)*cos(cLength*5.0-time*4.0)*0.005;","vec3 col = texture2D(tDiffuse,uv).xyz;","gl_FragColor = vec4(col,1.0);","}"].join("\n"),a}()}),a("Application.Shader",function(a){return a.BlueSaturationShader=function(){function a(){this.uniforms={tDiffuse:{type:"t",value:null},blueSaturation:{type:"f",value:0}}}return a.prototype.uniforms=null,a.prototype.vertexShader=["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),a.prototype.fragmentShader=["uniform sampler2D tDiffuse;","uniform float blueSaturation;","varying vec2 vUv;","void main() {","gl_FragColor = texture2D( tDiffuse, vUv );","gl_FragColor.r -= blueSaturation;","gl_FragColor.g -= blueSaturation * .5;","gl_FragColor.b += blueSaturation;","}"].join("\n"),a}()}),a("Application.Shader",function(a){return a.BrightnessContrastShader=function(){function a(){this.uniforms={tDiffuse:{type:"t",value:null},brightness:{type:"f",value:0},contrast:{type:"f",value:0}}}return a.prototype.uniforms=null,a.prototype.vertexShader=["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),a.prototype.fragmentShader=["uniform sampler2D tDiffuse;","uniform float brightness;","uniform float contrast;","varying vec2 vUv;","void main() {","gl_FragColor = texture2D( tDiffuse, vUv );","gl_FragColor.rgb += brightness;","if (contrast > 0.0) {","gl_FragColor.rgb = (gl_FragColor.rgb - 0.5) / (1.0 - contrast) + 0.5;","} else {","gl_FragColor.rgb = (gl_FragColor.rgb - 0.5) * (1.0 + contrast) + 0.5;","}","}"].join("\n"),a}()}),a("Application.Shader",function(a){return a.CopyShader=function(){function a(){this.uniforms={tDiffuse:{type:"t",value:null},opacity:{type:"f",value:1}}}return a.prototype.uniforms=null,a.prototype.vertexShader=["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),a.prototype.fragmentShader=["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n"),a}()}),a("Application.Shader",function(a){return a.HorizontalBlurShader=function(){function a(){this.uniforms={tDiffuse:{type:"t",value:null},h:{type:"f",value:1/512}}}return a.prototype.uniforms=null,a.prototype.vertexShader=["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),a.prototype.fragmentShader=["uniform sampler2D tDiffuse;","uniform float h;","varying vec2 vUv;","void main() {","vec4 sum = vec4( 0.0 );","sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;","sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;","sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;","sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;","sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;","sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;","sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;","gl_FragColor = sum;","}"].join("\n"),a}()}),a("Application.Shader",function(a){return a.VerticalBlurShader=function(){function a(){this.uniforms={tDiffuse:{type:"t",value:null},v:{type:"f",value:1/512}}}return a.prototype.uniforms=null,a.prototype.vertexShader=["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),a.prototype.fragmentShader=["uniform sampler2D tDiffuse;","uniform float v;","varying vec2 vUv;","void main() {","vec4 sum = vec4( 0.0 );","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;","sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;","gl_FragColor = sum;","}"].join("\n"),a
}()}),a("Application.Shader",function(a){return a.VignetteShader=function(){function a(){this.uniforms={tDiffuse:{type:"t",value:null},offset:{type:"f",value:1},darkness:{type:"f",value:1}}}return a.prototype.uniforms=null,a.prototype.vertexShader=["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),a.prototype.fragmentShader=["uniform float offset;","uniform float darkness;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","vec2 uv = ( vUv - vec2( 0.5 ) ) * vec2( offset );","gl_FragColor = vec4( mix( texel.rgb, vec3( 1.0 - darkness ), dot( uv, uv ) ), texel.a );","}"].join("\n"),a}()}),a("Application",function(a){return a.Helper=function(){function a(){Handlebars.registerPartial("CloseButton",JST["templates/Partial_CloseButton_Template.hbs"]),Handlebars.registerHelper("html",function(a){return null!=a?new Handlebars.SafeString(a):void 0}),Handlebars.registerHelper("isEnglish",function(a,b){var c,d;return d=b.fn,c=b.inverse,App.config.LANGUAGE_EN?d(this):c(this)}),Handlebars.registerHelper("isDesktop",function(a,b){var c,d;return d=b.fn,c=b.inverse,App.state.IS_DESKTOP?d(this):c(this)}),Handlebars.registerHelper("isTablet",function(a,b){var c,d;return d=b.fn,c=b.inverse,App.state.IS_TABLET?d(this):c(this)}),Handlebars.registerHelper("isMobile",function(a,b){var c,d;return d=b.fn,c=b.inverse,App.state.IS_MOBILE?d(this):c(this)}),Handlebars.registerHelper("hasWEBGL",function(a,b){var c,d;return d=b.fn,c=b.inverse,App.state.HAS_WEBGL?d(this):c(this)}),Handlebars.registerHelper("isStep1",function(a,b){var c,d;return d=b.fn,c=b.inverse,1===a?d(this):c(this)}),Handlebars.registerHelper("isStep2",function(a,b){var c,d;return d=b.fn,c=b.inverse,2===a?d(this):c(this)}),Handlebars.registerHelper("isStep3",function(a,b){var c,d;return d=b.fn,c=b.inverse,3===a?d(this):c(this)}),Handlebars.registerHelper("isStep4",function(a,b){var c,d;return d=b.fn,c=b.inverse,4===a?d(this):c(this)})}return a}()}),a("Application",function(a){return a.Sharer=function(){function a(){this.shareOnFacebook=c(this.shareOnFacebook,this),this.gplus=c(this.gplus,this),this.twitter=c(this.twitter,this),this.facebook=c(this.facebook,this),this.addEventListener=c(this.addEventListener,this),_.extend(this,Backbone.Events),this.addEventListener(),this.sharingObjects=[{popup:null,timer:null,open:!1},{popup:null,timer:null,open:!1}]}return a.prototype.sharingObjects=null,a.prototype.addEventListener=function(){var a=this;return this.listenTo(App.service,App.service.EVENT_SHARE_FACEBOOK,function(b){return a.facebook(b)}),this.listenTo(App.service,App.service.EVENT_SHARE_TWITTER,function(b){return a.twitter(b)}),this.listenTo(App.service,App.service.EVENT_SHARE_GPLUS,function(b){return a.gplus(b)})},a.prototype.facebook=function(a){var b,c;if(null!=a)return b={},a?(c=Application.Utils.getExperienceTimeResults(),b.name=App.data.get("label_sharing_facebook_step2_name").replace("{{MINUTES}}",c.minutes).replace("{{SECONDS}}",c.seconds),b.caption=App.data.get("label_sharing_facebook_caption"),b.description=App.data.get("label_sharing_facebook_description"),b.link=App.data.get("label_sharing_facebook_link"),b.picture=App.data.get("label_sharing_facebook_picture"),b.step=a):(b.name=App.data.get("label_sharing_facebook_step1_name"),b.caption=App.data.get("label_sharing_facebook_caption"),b.description=App.data.get("label_sharing_facebook_description"),b.link=App.data.get("label_sharing_facebook_link"),b.picture=App.data.get("label_sharing_facebook_picture"),b.step=a),this.shareOnFacebook(b)},a.prototype.twitter=function(a){var b,c;if(null!=a)return a?(c=Application.Utils.getExperienceTimeResults(),b=App.data.get("label_sharing_twitter_step2").replace("{{MINUTES}}",c.minutes).replace("{{SECONDS}}",c.seconds)):b=App.data.get("label_sharing_twitter_step1"),this.open("twitter",a,"http://twitter.com/intent/tweet?&text="+b+App.data.get("label_website_url")+"&hashtags="+App.data.get("label_sharing_twitter_hashtag"))},a.prototype.gplus=function(a){return null!=a?this.open("gplus",a,"http://plus.google.com/share?url="+encodeURIComponent(App.config.ROOT_URL)):void 0},a.prototype.open=function(a,b,c){var d,e,f,g,h,i;if(null!=a){if(i=600,d=300,e=.5*($(window).width()-i),h=.5*($(window).height()-d),f="",f+="top="+h+",",f+="left="+e+",",f+="width="+i+",",f+="height="+d+",",f+="menubar=no,",f+="scrollbars=no,",f+="statusbar=no",App.state.IS_TABLET)return window.open(c);if("twitter"===a?g=this.sharingObjects[0]:"gplus"===a&&(g=this.sharingObjects[1]),null!=g&&!g.open)return g.popup=null,window.clearInterval(g.timer),g.popup=window.open(c,"_blank",f),g.open=!0,App.service.trigger(App.service.EVENT_SHARE_POPUP_OPEN,b),g.timer=window.setInterval(function(){g.popup.closed!==!1&&(window.clearInterval(g.timer),g.open=!1,App.service.trigger(App.service.EVENT_SHARE_POPUP_CLOSE,b))},200)}},a.prototype.shareOnFacebook=function(a){return App.service.trigger(App.service.EVENT_SHARE_POPUP_OPEN,a.step),FB.ui({method:"feed",name:a.name,caption:a.caption,description:a.description,link:a.link,picture:a.picture},function(b){b&&b.post_id?App.service.trigger(App.service.EVENT_SHARE_POPUP_CLOSE,a.step):App.service.trigger(App.service.EVENT_SHARE_POPUP_CLOSE,a.step)})},a}()}),a("Application",function(a){return a.Tracking=function(){function a(){this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.tracking=c(this.tracking,this),_.extend(this,Backbone.Events),this.addEventListener()}return a.prototype.tracking=function(a){return null!=a?_gaq.push(["_trackPageview",a.toString()]):void 0},a.prototype.addEventListener=function(){var a=this;return this.listenTo(App.service,App.service.EVENT_APPLICATION_STARTED,function(){return a.tracking("_home_site")}),this.listenTo(App.service,App.service.EVENT_PRELOAD_ENDED,function(){return a.tracking("_home_site_load_ok")}),this.listenTo(App.service,App.service.EVENT_CLICK_START_EXPERIENCE,function(){return a.tracking("_home_site_load_ok")}),this.listenTo(App.service,App.service.EVENT_SKIP_INTRO,function(){return a.tracking("_skip_intro")}),this.listenTo(App.service,App.service.EVENT_FULLSCREEN,function(){return a.tracking("_fullscreen")}),this.listenTo(App.service,App.service.EVENT_SHOW_HELP,function(){return a.tracking("_help")}),this.listenTo(App.service,App.service.EVENT_SHOW_CREDITS,function(b){return null==b&&(b=!1),a.tracking(b?"_big_credits":"_credits")}),this.listenTo(App.service,App.service.EVENT_CLICK_GUYCOTTEN_WEBSITE,function(b){return null==b&&(b=!1),a.tracking(b?"_big_guy_cotten_site":"_guy_cotten_site")}),this.listenTo(App.service,App.service.EVENT_SHARE_TWITTER,function(b){return null!=b?a.tracking(b?"_score_twitter":"_sem_twitter_site"):void 0}),this.listenTo(App.service,App.service.EVENT_SHARE_GPLUS,function(b){return null!=b?a.tracking(b?"_score_google":"_sem_google_site"):void 0}),this.listenTo(App.service,App.service.EVENT_SHARE_FACEBOOK,function(b){return null!=b?a.tracking(b?"_score_facebook":"_sem_facebook_site"):void 0}),this.listenTo(App.service,App.service.EVENT_EXPERIENCE_MODEL_STATE_CHANGED,function(b){return null!=b&&b?a.tracking("_etape"+b):void 0}),this.listenTo(App.service,App.service.EVENT_RETRY_EXPERIENCE,function(){return a.tracking("_recommencer")})},a.prototype.removeEventListener=function(){return this.stopListening(App.service),this.stopListening(App.experienceController)},a}()}),a("Application",function(a){return a.Utils=function(){function a(){this.normalize=c(this.normalize,this),this.degToRad=c(this.degToRad,this)}return a.pad=function(a,b,c){return c=c||"0",a+="",a.length>=b?a:new Array(b-a.length+1).join(c)+a},a.degToRad=function(a){return Math.PI*a/180},a.normalize=function(a,b,c){return(a-b)/(c-b)},a.strip=function(a){return parseFloat(a.toPrecision(3))},a.interpolate=function(a,b,c){var d,e,f;return d=a.x+(b.x-a.x)*c,e=a.y+(b.y-a.y)*c,f={x:d,y:e}},a.hexToRgb=function(a){var b,c,d;return d=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,a=a.replace(d,function(a,b,c,d){return b+b+c+c+d+d}),b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a),null!=b?c={r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null},a.ratio=function(a,b,c,d){var e;return b>a?(e=c/a,d>b*e&&(e=d/b)):(e=d/b,c>a*e&&(e=c/a)),e},a.prototype.degToRad=function(a){return Math.PI*a/180},a.prototype.normalize=function(a,b,c){return(a-b)/(c-b)},a.prototype.hexToRgb=function(a){var b,c,d;return d=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,a=a.replace(d,function(a,b,c,d){return b+b+c+c+d+d}),b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a),null!=b?c={r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}:null},a.timecodeCalculator=function(){var a,b,c,d,e,f,g;for(e=["06 55 16"],b=[],f=0,g=e.length;g>f;f++)d=e[f],a=d.split(" "),console.log(a),c=0,c+=60*parseInt(a[0],10),c+=parseInt(a[1],10),c+=parseInt(a[2],10)/25,b.push(c);return b},a.getExperienceTimeResults=function(){var a,b,c;return c=Math.round(App.experienceController.experienceModel.get("lastScroll")-App.experienceController.experienceModel.get("firstScroll")),a=Math.floor(c/60),b=Application.Utils.pad(c%60,2),c={minutes:a,seconds:b}},a}.call(this)}),a("Application.View",function(a){var b;return a.AbstractView=function(a){function d(){return this.removeEventListener=c(this.removeEventListener,this),this.init=c(this.init,this),this.show=c(this.show,this),this.hide=c(this.hide,this),this.kill=c(this.kill,this),this.onScreenClose=c(this.onScreenClose,this),this.removeChildren=c(this.removeChildren,this),this.setup=c(this.setup,this),this.initialize=c(this.initialize,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.id=null,d.prototype.el=null,d.prototype.$el=null,d.prototype.status=!0,d.prototype.type=null,d.prototype.hasTemplate=!0,d.prototype.hasTransition=!0,d.prototype.triggerPause=!1,d.prototype.options=null,d.prototype.container=null,d.prototype.$container=null,d.prototype.canBeClosed=!1,d.prototype.initialize=function(a){var b,c;if(null!=a)for(b in a)c=a[b],this[b]=c;switch(this.options=a||{},this.$el=$(this.el),this.type){case"EXPERIENCE":this.container=$("#experience-container");break;case"SHADER":this.container=$("#shader-container");break;case"PAGE":this.container=$("#page-container");break;case"SCREEN":this.container=$("#screen-container");break;default:this.container=$("#app-wrapper")}return"SCREEN"!==this.type&&(this.canBeClosed=!1),this.setup(),this.init(),this.hasTransition&&this.hide(),this.canBeClosed?this.$el.on("click",this.onScreenClose):void 0},d.prototype.setup=function(){return this.hasTemplate&&null!=this.templateName?this.template=JST["templates/"+this.templateName+"_Template.hbs"]:void 0},d.prototype.removeChildren=function(){return this.$el.children().remove()},d.prototype.onScreenClose=function(a){var b,c;if(null!=a)return a.stopPropagation(),a.stopImmediatePropagation(),c=$(a.target),console.log("onScreenClose",c,a),b=c.filter(function(){return c.closest(".disable-click").length}),b.length||this.hide(),console.log("clickDisabled : ",b)},d.prototype.kill=function(){return this.canBeClosed&&this.$el.off("click",this.onScreenClose),this.undelegateEvents(),this.removeEventListener(),this.remove()},d.prototype.hide=function(a){var b,c,d=this;return null==a&&(a=null),this.status&&this.hasTransition?(this.status=!1,"SCREEN"===this.type&&(b=!0),this.triggerPause&&(App.state.HOLD>0&&App.state.HOLD--,App.service.trigger(App.service.EVENT_HIDE_SCREEN)),b?(TweenMax.killTweensOf(this.$el),c={opacity:0,onComplete:function(){return d.$el.removeClass("active").css("display","none"),null!=a?a():void 0}},TweenMax.to(this.$el,.3,c)):(this.$el.removeClass("active").css("display","none"),null!=a?a():void 0)):void 0},d.prototype.show=function(a,b){var c,d=this;return null==a&&(a=!0),null==b&&(b=null),!this.status&&this.hasTransition?(this.status=!0,this.$el.css("display","block"),this&&$("#"+this.id).parent("li").addClass("active"),this.triggerPause&&(App.state.HOLD++,App.service.trigger(App.service.EVENT_SHOW_SCREEN)),a?(this.$el.css("opacity",0),TweenMax.killTweensOf(this.$el),c={opacity:1,onComplete:function(){return d.$el.addClass("active"),null!=b?b():void 0}},TweenMax.to(this.$el,.3,c)):(this.$el.addClass("active").css("opacity",1),null!=b?b():void 0)):void 0},d.prototype.init=function(){},d.prototype.removeEventListener=function(){},d}(Backbone.View)}),a("Application.View",function(a){return a.AppView=function(a){function b(){this.preventDefault=c(this.preventDefault,this),this.preventMousewheelClick=c(this.preventMousewheelClick,this),this.hideCursor=c(this.hideCursor,this),this.clickedAnimation=c(this.clickedAnimation,this),this.visibilityOnChange=c(this.visibilityOnChange,this),this.onFullScreen=c(this.onFullScreen,this),this.onResize=c(this.onResize,this),this.onMousemove=c(this.onMousemove,this),this.addEventListener=c(this.addEventListener,this),this.render=c(this.render,this),this.fail=c(this.fail,this),this.start=c(this.start,this),this.init=c(this.init,this),this.$el=$("#"+this.el),this.$window=$(window),this.template=JST["templates/"+this.templateName+".hbs"],this.init()}return e(b,a),b.prototype.el="app-wrapper",b.prototype.$el=null,b.prototype.$window=null,b.prototype.template=null,b.prototype.templateName="AppTemplate",b.prototype.controllers={loadingVideoController:null,experienceVideoController:null,endsController:null,shaderController:null},b.prototype.loadingPageView=null,b.prototype.introPageView=null,b.prototype.sharingPageView=null,b.prototype.unsupportedPageView=null,b.prototype.orientationPageView=null,b.prototype.creditsPageView=null,b.prototype.helpPageView=null,b.prototype.tiredPageView=null,b.prototype.tutorialPageView=null,b.prototype.deathTransitionPageView=null,b.prototype.videoPageView=null,b.prototype.footerView=null,b.prototype.subtitleView=null,b.prototype.hidden=null,b.prototype.visibilityChange=null,b.prototype.visibilityState=null,b.prototype.justHidden=!1,b.prototype.hideCursorTimeout=null,b.prototype.init=function(){return null!=document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange",this.visibilityState="visibilityState"):null!=document.mozHidden?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange",this.visibilityState="mozVisibilityState"):null!=document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange",this.visibilityState="msVisibilityState"):null!=document.webkitHidden?(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange",this.visibilityState="webkitVisibilityState"):void 0},b.prototype.start=function(){return this.$el.html(this.template({debug:App.config.DEBUG})),this.render(),this.addEventListener()},b.prototype.fail=function(a,b){return null==a&&(a=!1),null==b&&(b=!1),this.$el.html(this.template({standalone:!0})),this.unsupportedPageView=new Application.View.UnsupportedPageView({IS_MOBILE:a,IS_OUTDATED:b}),this.addEventListener()},b.prototype.render=function(){return this.loadingPageView=new Application.View.LoadingPageView,this.introPageView=new Application.View.IntroPageView,App.state.IS_TABLET&&(this.orientationPageView=new Application.View.OrientationPageView),this.creditsPageView=new Application.View.CreditsPageView,this.helpPageView=new Application.View.HelpPageView,this.tiredPageView=new Application.View.TiredPageView,this.tutorialPageView=new Application.View.TutorialPageView,this.footerView=new Application.View.FooterView,this.sharingPageView=new Application.View.SharingPageView,App.config.LANGUAGE_EN&&(this.subtitleView=new Application.View.SubtitleView({el:this.$("#subtitle")})),this.controllers.endsController=new Application.Controller.EndsController,App.state.IS_DESKTOP&&App.state.HAS_WEBGL&&(this.controllers.shaderController=new Application.Controller.ShaderController),App.state.IS_TABLET||(this.controllers.deathVideoController=new Application.Controller.DeathVideoController),this.controllers.experienceVideoController=new Application.Controller.ExperienceVideoController,this},b.prototype.addEventListener=function(){var a,b;return b=function(){var a,b;return b=document.createElement("div"),b.setAttribute("style","position: fixed;top: 0;left: 0;bottom: 0;right: 0;"),document.documentElement.insertBefore(b,document.documentElement.firstChild),a={width:b.offsetWidth,height:b.offsetHeight},document.documentElement.removeChild(b),a},a=function(){return $("html").height(b().height)},"ontouchstart"in window||$(window).resize(_.debounce(a,200)),$(window).on("orientationchange",_.debounce(a,200)),App.state.IS_TABLET&&setTimeout(a,0),document.addEventListener(this.visibilityChange,this.visibilityOnChange,!1),$(".animated").on("click",this.clickedAnimation),this.listenTo(App.service,App.service.EVENT_FULLSCREEN,this.onFullScreen),FastClick.attach(document.body),window.addEventListener("resize",this.onResize,!1),document.addEventListener("mousemove",this.onMousemove,!1),document.addEventListener("click",this.preventMousewheelClick,!1),this.onResize(),$(window).trigger("resize"),this.$el.find("#preventDefault").on("click",this.preventDefault),this},b.prototype.onMousemove=function(){return this.justHidden||(this.justHidden=!1,clearTimeout(this.hideCursorTimeout),$("html").css({cursor:"default"}),this.hideCursorTimeout=setTimeout(this.hideCursor,1e3)),this},b.prototype.onResize=function(){var a,b,c,d,e,f,g;return g=window.innerWidth,e=window.innerHeight,c=Application.Utils.ratio(App.config.VIDEO_WIDTH,App.config.VIDEO_HEIGHT,g,e),f=c*App.config.VIDEO_WIDTH,a=c*App.config.VIDEO_HEIGHT,b=.5*(g-f),d=.5*(e-a),App.service.trigger(App.service.EVENT_RESIZE,f,a,d,b),this},b.prototype.onFullScreen=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),this},b.prototype.visibilityOnChange=function(){return"hidden"===document[this.visibilityState]?App.service.trigger(App.service.EVENT_TAB_INACTIVE):"visible"===document[this.visibilityState]&&App.service.trigger(App.service.EVENT_TAB_ACTIVE),this},b.prototype.clickedAnimation=function(a){var b;if(null!=a)return b=$(a.currentTarget),b.addClass("clicked"),_.delay(function(){return b.removeClass("clicked")},500),this},b.prototype.hideCursor=function(){var a=this;return $("html").css({cursor:"none"}),this.justHidden=!0,setTimeout(function(){return a.justHidden=!1},500),this},b.prototype.preventMousewheelClick=function(a){return null!=a?(2===a.which&&a.preventDefault(),this):void 0},b.prototype.preventDefault=function(a){return null!=a?(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),this):void 0},b}(Backbone.View)}),a("Application.View",function(a){var b;return a.FooterView=function(a){function d(){return this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.onGPlusSharing=c(this.onGPlusSharing,this),this.onFacebookSharing=c(this.onFacebookSharing,this),this.onTwitterSharing=c(this.onTwitterSharing,this),this.onWebsite=c(this.onWebsite,this),this.onCredits=c(this.onCredits,this),this.setIntervalFooter=c(this.setIntervalFooter,this),this.onMousemoveSharing=c(this.onMousemoveSharing,this),this.onClickSharing=c(this.onClickSharing,this),this.onMouseleaveSharing=c(this.onMouseleaveSharing,this),this.onMouseenterSharing=c(this.onMouseenterSharing,this),this.toggleSharing=c(this.toggleSharing,this),this.hideSharing=c(this.hideSharing,this),this.onFullscreenChange=c(this.onFullscreenChange,this),this.toggleFullScreen=c(this.toggleFullScreen,this),this.onVolumeSwitched=c(this.onVolumeSwitched,this),this.onVolume=c(this.onVolume,this),this.onHelp=c(this.onHelp,this),this.showHelp=c(this.showHelp,this),this.start=c(this.start,this),this.hide=c(this.hide,this),this.show=c(this.show,this),this.render=c(this.render,this),this.init=c(this.init,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.id="footer",d.prototype.type=null,d.prototype.className="footer",d.prototype.templateName="Componenent_Footer",d.prototype.hasTemplate=!0,d.prototype.closeIntervalSharingTablet=null,d.prototype.closeIntervalTimeSharingTablet=3e3,d.prototype.closeIntervalFooter=null,d.prototype.closeIntervalTimeFooter=2e3,d.prototype.hasMouseoverSharing=!1,d.prototype.sharingDisplayed=!1,d.prototype.delay=4e3,d.prototype.isActive=!1,d.prototype.events={"click .credits":"onCredits","click .website":"onWebsite","click .sharing":"onClickSharing","mousemove .sharing":"onMousemoveSharing","mouseenter .footer-sharers":"onMouseenterSharing","mouseleave .footer-sharers":"onMouseleaveSharing","click	.element-facebook":"onFacebookSharing","click	.element-twitter":"onTwitterSharing","click	.element-gplus":"onGPlusSharing","click	.element-volume":"onVolume","click	.element-fs":"toggleFullScreen","click	.element-help":"onHelp","mouseleave .footer-right":"hideSharing","mousemove	.element-volume":"hideSharing","mousemove	.element-fs":"hideSharing","mousemove	.element-help":"hideSharing"},d.prototype.init=function(){return App.state.IS_TABLET&&(this.closeIntervalTimeSharing+=this.additionalDelayForTablet),this.addEventListener(),this.render()},d.prototype.render=function(){return this.container.append(this.$el.html(this.template({label_footer_credits:App.data.get("label_footer_credits"),label_footer_guycotten:App.data.get("label_footer_guycotten"),label_footer_help_label:App.data.get("label_footer_help_label"),label_footer_sound_label:App.data.get("label_footer_sound_label"),label_footer_full_screen_label:App.data.get("label_footer_full_screen_label"),label_footer_share_label:App.data.get("label_footer_share_label")}))),this.$el.hide()},d.prototype.show=function(){return this.isActive?(this.status=!0,this.$el.addClass("active")):void 0},d.prototype.hide=function(){return App.state.IS_TABLET?void 0:(this.status=!1,this.toggleSharing(!1),this.$el.removeClass("active"))},d.prototype.start=function(){return this.isActive=!0,this.$el.show(),this.show(),_.delay(this.hide,this.delay)},d.prototype.showHelp=function(){return this.$el.find(".element-help").addClass("show"),this},d.prototype.onHelp=function(a){return null!=a&&this.status?(a.preventDefault(),App.service.trigger(App.service.EVENT_SHOW_HELP),this):void 0},d.prototype.onVolume=function(a){return null!=a&&this.status?(a.preventDefault(),App.service.trigger(App.service.EVENT_SWITCH_VOLUME),this):void 0},d.prototype.onVolumeSwitched=function(a){return null!=a?(a?this.$el.find(".volume").addClass("off"):this.$el.find(".volume").removeClass("off"),this):void 0},d.prototype.toggleFullScreen=function(a){return null!=a&&this.status?(a.preventDefault(),App.service.trigger(App.service.EVENT_FULLSCREEN),this):void 0},d.prototype.onFullscreenChange=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?this.$el.find(".fs").addClass("active"):this.$el.find(".fs").removeClass("active"),this},d.prototype.hideSharing=function(a){return null!=a?(this.toggleSharing(!1),this):void 0},d.prototype.toggleSharing=function(a){var b;if(null!=a)return b=this.$el.find(".footer-sharers"),a?b.addClass("active"):b.removeClass("active"),this.sharingDisplayed=a,this},d.prototype.onMouseenterSharing=function(a){return null!=a?(this.hasMouseoverSharing=!0,this):void 0},d.prototype.onMouseleaveSharing=function(a){return null!=a?(this.hasMouseoverSharing=!1,this.toggleSharing(!1),this):void 0},d.prototype.onClickSharing=function(a){var b=this;if(null!=a)return this.toggleSharing(!0),App.state.IS_TABLET&&(window.clearTimeout(this.closeIntervalSharingTablet),this.closeIntervalSharingTablet=_.delay(function(){return b.toggleSharing(!1)},this.closeIntervalTimeSharingTablet)),this},d.prototype.onMousemoveSharing=function(a){return null!=a?(this.toggleSharing(!0),this):void 0},d.prototype.setIntervalFooter=function(){var a=this;if(!App.state.IS_TABLET)return window.clearTimeout(this.closeIntervalFooter),this.show(),this.closeIntervalFooter=window.setTimeout(function(){return a.hide()},this.closeIntervalTimeFooter),this},d.prototype.onCredits=function(a){return null!=a&&this.status?(a.preventDefault(),App.service.trigger(App.service.EVENT_SHOW_CREDITS),this):void 0},d.prototype.onWebsite=function(a){var b;if(null!=a&&this.status)return a.preventDefault(),b=$(a.currentTarget).attr("href"),null!=b&&window.open(b),App.service.trigger(App.service.EVENT_CLICK_GUYCOTTEN_WEBSITE),this},d.prototype.onTwitterSharing=function(a){return null!=a&&this.status&&this.sharingDisplayed?(a.preventDefault(),a.stopPropagation(),App.service.trigger(App.service.EVENT_SHARE_TWITTER,0),this):void 0},d.prototype.onFacebookSharing=function(a){return null!=a&&this.status&&this.sharingDisplayed?(a.preventDefault(),a.stopPropagation(),App.service.trigger(App.service.EVENT_SHARE_FACEBOOK,0),this):void 0},d.prototype.onGPlusSharing=function(a){return null!=a&&this.status&&this.sharingDisplayed?(a.preventDefault(),a.stopPropagation(),App.service.trigger(App.service.EVENT_SHARE_GPLUS,0),this):void 0},d.prototype.addEventListener=function(){return this.$el.on("mousemove",this.setIntervalFooter),this.listenToOnce(App.experienceController,App.experienceController.EVENT_START_EXPERIENCE_CONTROLLER,this.start),this.listenToOnce(App.experienceController,App.experienceController.EVENT_IS_DYING,this.kill),this.listenTo(App.service,App.service.EVENT_VOLUME_SWITCHED,this.onVolumeSwitched),this.listenToOnce(App.service,App.experienceController.EVENT_FALL_INTO_SEA,this.hide),this.listenToOnce(App.service,App.experienceController.EVENT_FALL_INTO_SEA,this.showHelp),this.listenToOnce(App.service,App.service.EVENT_SKIP_INTRO,this.showHelp),document.addEventListener("fullscreenchange",this.onFullscreenChange,!1),document.addEventListener("mozfullscreenchange",this.onFullscreenChange,!1),document.addEventListener("webkitfullscreenchange",this.onFullscreenChange,!1),document.addEventListener("MSFullscreenChange",this.onFullscreenChange,!1),this},d.prototype.removeEventListener=function(){return this.$el.off("mousemove",this.setIntervalFooter),this.stopListening(App.service),this.stopListening(App.experienceController),document.removeEventListener("fullscreenchange",this.onFullscreenChange,!1),document.removeEventListener("mozfullscreenchange",this.onFullscreenChange,!1),document.removeEventListener("webkitfullscreenchange",this.onFullscreenChange,!1),document.removeEventListener("MSFullscreenChange",this.onFullscreenChange,!1),this},d}(Application.View.AbstractView)}),a("Application.Object",function(a){return a.Jauge=function(){function a(){this.destroy=c(this.destroy,this),this.onmouseleave=c(this.onmouseleave,this),this.onmouseenter=c(this.onmouseenter,this),this.hide=c(this.hide,this),this.show=c(this.show,this),this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.onResize=c(this.onResize,this),this.onFirstScroll=c(this.onFirstScroll,this),this.onFallIntoSea=c(this.onFallIntoSea,this),this.onLazy=c(this.onLazy,this),this.onInjury=c(this.onInjury,this),this.onIsDying=c(this.onIsDying,this),this.switchMode=c(this.switchMode,this),this.drawTemp=c(this.drawTemp,this),this.drawRate=c(this.drawRate,this),this.drawRadar=c(this.drawRadar,this),this.drawSineWave=c(this.drawSineWave,this),this.render=c(this.render,this),this.animate=c(this.animate,this),this.onPreload=c(this.onPreload,this),this.preload=c(this.preload,this),_.extend(this,Backbone.Events),this.lineDisplacement=this.LINE_DISPLACEMENT_NORMAL,this.lineSpeed=this.LINE_SPEED_NORMAL,this.$el=$("#"+this.el),this.canvas=document.getElementById(this.el),this.context=this.canvas.getContext("2d"),this.tempCanvas=this.canvas.cloneNode(!1),this.tempContext=this.tempCanvas.getContext("2d"),this.height=this.canvas.height=window.innerHeight,this.canvas.style.height=window.innerHeight+"px",this.canvas.width=this.width,this.hundredPosition=this.height*this.hundredPercent/100,this.context.globalAlpha=this.globalAlpha,this.color=this.COLOR_WHITE,this.addEventListener(),this.assets=[{src:"grid.png",width:78,height:78}],this.preload()}return a.prototype.el="jauge",a.prototype.$el=null,a.prototype.canvas=null,a.prototype.context=null,a.prototype.width=200,a.prototype.height=window.innerHeight,a.prototype.tempCanvas=null,a.prototype.tempContext=null,a.prototype.tempCanvasWidth=0,a.prototype.tempCanvasHeight=0,a.prototype.assets=null,a.prototype.assetsObject=[],a.prototype.loaded=0,a.prototype.assetsImageData=[],a.prototype.mode=7,a.prototype.hasTemp=!0,a.prototype.hasRate=!1,a.prototype.isDying=!1,a.prototype.color="",a.prototype.COLOR_WHITE="#FFFFFF",a.prototype.COLOR_RED="#F74848",a.prototype.forceRed=!1,a.prototype.visible=!1,a.prototype.displayInterval=null,a.prototype.switchModeInterval=null,a.prototype.mouseMoveInterval=null,a.prototype.mouseMoveIntervalDelay=4e3,a.prototype.globalAlpha=0,a.prototype.display=!1,a.prototype.forceToShow=!1,a.prototype.delayedLife=100,a.prototype.appLife=100,a.prototype.lifeLostPercent=0,a.prototype.level=1,a.prototype.raf=null,a.prototype.hasInjury=!1,a.prototype.hasInjuryLoop=null,a.prototype.isLazy=!1,a.prototype.isLazyLoop=null,a.prototype.isMouseHover=!1,a.prototype.offset=0,a.prototype.lineDisplacement=null,a.prototype.LINE_DISPLACEMENT_NORMAL=15,a.prototype.LINE_DISPLACEMENT_ON_INJURY=26,a.prototype.lineSpeed=null,a.prototype.LINE_SPEED_NORMAL=.05,a.prototype.LINE_SPEED_ON_INJURY=.4,a.prototype.radar=3,a.prototype.hundredPosition=null,a.prototype.hundredPercent=20,a.prototype.radarXPos=null,a.prototype.radarYPos=null,a.prototype.font="22px GrotesqueMTStdExtraCondensed",a.prototype.MAX_TEMP=37.2,a.prototype.MIN_TEMP=32,a.prototype.temp=null,a.prototype.BPM=80,a.prototype.BPM_MIN=80,a.prototype.BPM_MAX=200,a.prototype.BUMP_WIDTH_MAX=68,a.prototype.BUMP_HEIGHT_MAX=40,a.prototype.PARTICLE_ALPHA_BORDER_RATIO=.5,a.prototype.bumpLastTime=0,a.prototype.bumpList=[],a.prototype.bumpParticleList=[],a.prototype.bumpParticleTrajectoryList=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.046,.093,.134,.118,.09,.015,.318,.562,1,.187,-.781,-.225,.031,.118,.075,.046,.025,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,.046,.093,.134,.118,.09,.015,.318,.562,1,.187,-.781,-.225,.031,.118,.075,.046,.025,0,0,0,0,0,0,0,0,0,0,0,.046,.093,.134,.118,.09,.015,.318,.562,1,.187,-.781,-.225,.031,.118,.075,.046,.025,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,.046,.093,.134,.118,.09,.015,.318,.562,1,.187,-.781,-.225,.031,.118,.075,.046,.025,0,0,0,0,.046,.093,.134,.118,.09,.015,.318,.562,1,.187,-.781,-.225,.031,.118,.075,.046,.025,0,0,0,0,.046,.093,.134,.118,.09,.015,.318,.562,1,.187,-.781,-.225,.031,.118,.075,.046,.025,0,0,0,0,0],[.046,.093,.134,.118,.09,.015,.318,.562,1,.187,-.781,-.225,.031,.118,.075,.046,.025,.046,.093,.134,.118,.09,.015,.318,.562,1,.187,-.781,-.225,.031,.118,.075,.046,.025,.046,.093,.134,.118,.09,.015,.318,.562,1,.187,-.781,-.225,.031,.118,.075,.046,.025,.046,.093,.134,.118,.09,.015,.318,.562,1,.187,-.781,-.225,.031,.118,.075,.046,.025],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],a.prototype.preload=function(){var a,b,c;for(a=this.assets.length-1,c=[];a>=0;)b=new Image,b.src=App.config.IMAGES_PATH+this.assets[a].src,b.width=this.assets[a].width,b.height=this.assets[a].height,b.onload=this.onPreload,this.assetsObject.push(b),c.push(a--);
return c},a.prototype.onPreload=function(){var a,b,c,d;if(this.loaded++,this.loaded===this.assets.length){for(b=this.assetsObject.length-1;b>=0;)this.assetsObject[b].width>this.tempCanvasWidth&&(this.tempCanvasWidth=this.assetsObject[b].width),this.tempCanvasHeight+=this.assetsObject[b].height,b--;for(this.tempCanvas.width=this.tempCanvasWidth,this.tempCanvas.height=this.tempCanvasHeight,c=0,b=this.assetsObject.length-1,d=[];b>=0;)this.tempContext.drawImage(this.assetsObject[b],0,c,this.assetsObject[b].width,this.assetsObject[b].height),a={width:this.assetsObject[b].width,height:this.assetsObject[b].height,xClip:0,yClip:c},c+=this.assetsObject[b].height,this.assetsImageData.push(a),d.push(b--);return d}},a.prototype.animate=function(a,b){var c,d,e;if(this.loaded===this.assets.length){if(null!=b)for(d in b)e=b[d],this[d]=e;return TweenMax.killTweensOf(this,{delayedLife:!0,color:!0}),TweenMax.to(this,1,{delayedLife:this.appLife}),this.lifeLostPercent=.01*(100-this.appLife),this.BPM=this.BPM_MIN+(this.BPM_MAX-this.BPM_MIN)*this.lifeLostPercent,this.offset+=this.lineSpeed,this.delayedLife>=50&&!this.forceRed?(this.level=1,c=this.COLOR_WHITE):(this.level=2,c=this.COLOR_RED),TweenMax.to(this,1,{colorProps:{color:c}}),this.temp=(this.MIN_TEMP+(this.MAX_TEMP-this.MIN_TEMP)*(1-this.percent)).toFixed(1),this.isLazy||this.hasInjury?this.show(!0):this.forceToShow||this.appLife<=50||this.isMouseHover?this.show():this.hide(),this.display&&!App.state.HOLD?this.render(a):void 0}},a.prototype.render=function(a){var b,c,d,e,f,g;return this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore(),this.context.fillStyle=this.context.strokeStyle=this.color,this.context.globalAlpha=this.globalAlpha,this.drawRadar(),this.context.globalAlpha=this.globalAlpha,this.drawSineWave(),this.context.globalAlpha=this.globalAlpha,this.hasTemp?this.drawTemp():this.hasRate&&this.drawRate(),2===this.level&&App.service.trigger(App.service.EVENT_PLAY_SOUND_BPM,a,this.globalAlpha,this.BPM/2,this.lifeLostPercent),this.debugText={},App.config.DEBUG&&(b=$("#debug"),this.debugText.forceToShow=b.find(".forceToShow"),this.debugText.isLazy=b.find(".isLazy"),this.debugText.hasInjury=b.find(".hasInjury"),this.debugText.visible=b.find(".visible"),this.debugText.isMouseHover=b.find(".isMouseHover"),null!=(null!=(c=this.debugText)?c.forceToShow:void 0)&&this.debugText.forceToShow.text("forceToShow : "+this.lifeLostPercent),null!=(null!=(d=this.debugText)?d.isLazy:void 0)&&this.debugText.isLazy.text("isLazy : "+this.isLazy),null!=(null!=(e=this.debugText)?e.hasInjury:void 0)&&this.debugText.hasInjury.text("hasInjury : "+this.hasInjury),null!=(null!=(f=this.debugText)?f.visible:void 0)&&this.debugText.visible.text("visible : "+this.visible),null!=(null!=(g=this.debugText)?g.isMouseHover:void 0))?this.debugText.isMouseHover.text("isMouseHover : "+this.isMouseHover):void 0},a.prototype.drawSineWave=function(){var a,b,c;for(a=this.height,c=[];a>=0;)a<=this.radarYPos&&a>=this.radarYPos-79||(b=1-Application.Utils.normalize(Math.abs(this.height/2-a),0,this.height/2),this.context.globalAlpha=this.globalAlpha<b?this.globalAlpha:b,this.context.beginPath(),this.context.arc(Math.cos(.005*a+this.offset)*this.lineDisplacement+100,a,1,0,2*Math.PI,!0),this.context.fill(),this.context.closePath()),c.push(a-=6);return c},a.prototype.drawRadar=function(){return this.radarXPos=Math.cos(.005*((this.height-this.hundredPosition)*(100-this.delayedLife)/100+this.hundredPosition)+this.offset)*this.lineDisplacement+100|0,this.radarYPos=(100-this.delayedLife)*(this.height-this.hundredPosition)/100+this.hundredPosition|0,this.context.drawImage(this.tempCanvas,this.assetsImageData[0].xClip,this.assetsImageData[0].yClip,this.assetsImageData[0].width,this.assetsImageData[0].height,this.radarXPos-this.assetsImageData[0].width/2,this.radarYPos-78,this.assetsImageData[0].width,this.assetsImageData[0].height),this.context.beginPath(),this.context.lineWidth=2,this.context.arc(this.radarXPos,this.radarYPos-40,39,0,2*Math.PI,!0),this.context.lineWidth=1,this.context.stroke(),this.context.closePath()},a.prototype.drawRate=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(q=this.radarXPos,r=this.radarYPos-40,h=.5*this.BUMP_WIDTH_MAX,o=q-h+.5,p=r+1,j=this.bumpList.length;j--;)this.bumpList[j].position>this.BUMP_WIDTH_MAX&&this.bumpList.splice(j,1);for(j=this.bumpParticleList.length;j--;)this.bumpParticleList[j].life<=0&&this.bumpParticleList.splice(j,1);for(f=void 0,f=this.BPM>95&&this.BPM<=130?1:this.BPM>130&&this.BPM<=165?2:this.BPM>165&&this.BPM<=200?3:0,d=20*Application.Utils.normalize(this.BPM,0,200),i=(new Date).getTime(),this.bumpLastTime||(this.bumpLastTime=i),b=i,c=b-this.bumpLastTime,g=60/this.BPM*1e3*(f+1),c>g&&(this.bumpLastTime=i,this.bumpList.push({position:0,total:f,intensity:d})),j=0,k=this.bumpList.length;k>j;)a=this.bumpList[j],e=a.position,a.position+=1,this.bumpParticleList.push({previous:{x:e,y:-this.bumpParticleTrajectoryList[a.total][e]*a.intensity},x:a.position,y:-this.bumpParticleTrajectoryList[a.total][a.position]*a.intensity,size:2,life:1,bumpTotal:a.total,bumpIntensity:a.intensity}),j++;for(j=0,k=this.bumpParticleList.length,s=[];k>j;)l=this.bumpParticleList[j],n=1-Math.max(Math.abs(l.x-h)-h*this.PARTICLE_ALPHA_BORDER_RATIO,0)/(h*(1-this.PARTICLE_ALPHA_BORDER_RATIO)),m=.9*l.life*n>0?.9*l.life*n:0,this.context.beginPath(),this.context.globalAlpha=m<=this.globalAlpha?m:this.globalAlpha,this.context.moveTo(o+l.previous.x,p+l.previous.y),this.context.lineTo(o+l.x,p+l.y),this.context.stroke(),this.context.closePath(),l.life-=.02+5e-4*l.bumpIntensity-.003*l.bumpTotal,s.push(j++);return s},a.prototype.drawTemp=function(){return this.context.beginPath(),this.context.lineCap="round",this.context.moveTo(this.radarXPos-16,this.radarYPos-46),this.context.lineTo(this.radarXPos-16,this.radarYPos-31),this.context.stroke(),this.context.closePath(),this.context.arc(this.radarXPos-16,this.radarYPos-31,2,0,2*Math.PI,!0),this.context.fill(),this.context.lineCap="butt",this.context.font=this.font,this.context.fillText(this.temp+String.fromCharCode(176),this.radarXPos-10,this.radarYPos-30)},a.prototype.switchMode=function(){return this.mode+=.5,this.mode%7.5===0?(this.hasTemp=!0,this.hasRate=!1):(this.hasTemp=!1,this.hasRate=!0)},a.prototype.onIsDying=function(a){var b,c=this;return null!=this.switchModeInterval&&window.clearInterval(this.switchModeInterval),this.isDying=!0,this.hasRate=!0,this.hasTemp=!1,this.globalAlpha=1,b=function(){return c.destroy()},TweenMax.killTweensOf(this,{globalAlpha:!0,lineDisplacement:!0,lineSpeed:!0}),TweenMax.to(this,a,{globalAlpha:0,ease:Quart.easeIn,onComplete:b}),TweenMax.to(this,2,{lineDisplacement:this.LINE_DISPLACEMENT_NORMAL,lineSpeed:this.LINE_SPEED_NORMAL})},a.prototype.onInjury=function(a){var b,c,d=this;return null==a&&(a=1),this.hasInjury=!0,a>=3&&(this.forceRed=!0),window.clearTimeout(this.hasInjuryLoop),this.hasInjuryLoop=_.delay(function(){return d.hasInjury=!1,d.forceRed=!1},3e3),TweenMax.killTweensOf(this,{lineDisplacement:!0,lineSpeed:!0}),b=this.LINE_DISPLACEMENT_NORMAL+(this.LINE_DISPLACEMENT_ON_INJURY-this.LINE_DISPLACEMENT_NORMAL)/3*a,c=this.LINE_SPEED_NORMAL+(this.LINE_SPEED_ON_INJURY-this.LINE_SPEED_NORMAL)/3*a,TweenMax.to(this,2,{lineDisplacement:b,lineSpeed:c,yoyo:!0,repeat:1,ease:Quint.easeOut})},a.prototype.onLazy=function(){var a=this;return this.isLazy=!0,window.clearTimeout(this.isLazyLoop),this.isLazyLoop=_.delay(function(){return a.isLazy=!1},3e3)},a.prototype.onFallIntoSea=function(){var a=this;return this.hasTemp=!1,this.hasRate=!0,this.$el.show(),_.delay(function(){return a.switchModeInterval=window.setInterval(a.switchMode,4e3),a.display=!0,a.forceToShow=!0,TweenMax.killTweensOf(a,{lineDisplacement:!0,lineSpeed:!0}),a.lineDisplacement=a.LINE_DISPLACEMENT_ON_INJURY,a.lineSpeed=a.LINE_SPEED_ON_INJURY},2e3),this},a.prototype.onFirstScroll=function(){var a=this;return TweenMax.killTweensOf(this,{lineDisplacement:!0,lineSpeed:!0}),TweenMax.to(this,.5,{lineDisplacement:this.LINE_DISPLACEMENT_NORMAL,lineSpeed:this.LINE_SPEED_NORMAL}),_.delay(function(){return a.forceToShow=!1},2e3),this},a.prototype.onResize=function(){return this.height=this.canvas.height=window.innerHeight,this.canvas.style.height=window.innerHeight+"px",this.hundredPosition=this.height*this.hundredPercent/100,this},a.prototype.addEventListener=function(){return window.addEventListener("resize",this.onResize,!1),this.canvas.addEventListener("mouseenter",this.onmouseenter,!1),this.canvas.addEventListener("mouseleave",this.onmouseleave,!1),this.listenToOnce(App.service,App.experienceController.EVENT_FALL_INTO_SEA,this.onFallIntoSea),this.listenToOnce(App.experienceController,App.experienceController.EVENT_FIRST_SCROLL,this.onFirstScroll),this.listenTo(App.experienceController,App.experienceController.EVENT_IS_LAZY,this.onLazy),this.listenTo(App.experienceController,App.experienceController.EVENT_IS_DYING,this.onIsDying),this.listenTo(App.service,App.service.EVENT_HAS_INJURY,this.onInjury),this},a.prototype.removeEventListener=function(){return null!=this.switchModeInterval&&window.clearInterval(this.switchModeInterval),window.removeEventListener("resize",this.onResize,!1),this.canvas.removeEventListener("mouseover",this.onmouseover,!1),this.stopListening(App.service),this},a.prototype.show=function(a){return null==a&&(a=!1),this.isDying?void 0:(this.visible=!0,a?this.globalAlpha=1:(TweenMax.killTweensOf(this,{globalAlpha:!0}),TweenMax.to(this,1,{globalAlpha:1})),this)},a.prototype.hide=function(a){return null==a&&(a=0),this.isDying?void 0:(this.visible=!1,TweenMax.killTweensOf(this,{globalAlpha:!0}),TweenMax.to(this,1,{globalAlpha:0,delay:a}),this)},a.prototype.onmouseenter=function(){return this.isMouseHover=!0,this},a.prototype.onmouseleave=function(){return this.isMouseHover=!1,this},a.prototype.destroy=function(){var a;return this.removeEventListener(),(a=document.getElementById(this.el)).parentNode.removeChild(a),this},a}()}),a("Application.View",function(a){var b;return a.SubtitleView=function(a){function d(){return this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.hide=c(this.hide,this),this.show=c(this.show,this),this.render=c(this.render,this),this.init=c(this.init,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.templateName="Component_Subtitle",d.prototype.hasTransition=!1,d.prototype.init=function(){return this.addEventListener(),this.render(),this},d.prototype.render=function(a){return null==a&&(a=""),this.$el.html(this.template({value:a})),this},d.prototype.show=function(){return this.status?void 0:(this.status=!0,this.$el.show(),this)},d.prototype.hide=function(){return this.status?(this.status=!1,this.$el.hide(),this):void 0},d.prototype.addEventListener=function(){return this.listenTo(App.service,App.service.EVENT_SUBTITLE_UPDATE,this.render),this.listenTo(App.service,App.service.EVENT_SUBTITLE_SHOW,this.show),this.listenTo(App.service,App.service.EVENT_SUBTITLE_HIDE,this.hide),this.listenTo(App.service,App.service.EVENT_SUBTITLE_KILL,this.kill),this},d.prototype.removeEventListener=function(){return this.stopListening(App.service),this},d}(Application.View.AbstractView)}),a("Application.View",function(a){var b;return a.CreditsPageView=function(a){function d(){return this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.hide=c(this.hide,this),this.show=c(this.show,this),this.onClose=c(this.onClose,this),this.render=c(this.render,this),this.init=c(this.init,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.id="credits",d.prototype.type="SCREEN",d.prototype.className="screen",d.prototype.templateName="Screen_Credits",d.prototype.hasTemplate=!0,d.prototype.triggerPause=!0,d.prototype.canBeClosed=!0,d.prototype.events={"click .btn-close":"onClose"},d.prototype.init=function(){return this.addEventListener(),this.render()},d.prototype.render=function(){return this.container.append(this.$el.html(this.template({conception:App.data.get("label_credits_conception"),digital_production:App.data.get("label_credits_digital_production"),film_maker:App.data.get("label_credits_film_maker"),close:App.data.get("label_button_close")})))},d.prototype.onClose=function(a){return null!=a?(a.preventDefault(),App.service.trigger(App.service.EVENT_HIDE_CREDITS)):void 0},d.prototype.show=function(a){var b,c=this;return a&&this.$el.addClass("black"),b=function(){return $("."+c.id).parent("li").addClass("active")},d.__super__.show.call(this,!0,b)},d.prototype.hide=function(){var a,b=this;return a=function(){return $("."+b.id).parent("li").removeClass("active"),b.$el.removeClass("black")},d.__super__.hide.call(this,a)},d.prototype.addEventListener=function(){return this.listenTo(App.service,App.service.EVENT_SHOW_CREDITS,this.show),this.listenTo(App.service,App.service.EVENT_HIDE_CREDITS,this.hide),this.listenTo(App.service,App.service.EVENT_SHOW_HELP,this.hide)},d.prototype.removeEventListener=function(){return this.stopListening(App.service)},d}(Application.View.AbstractView)}),a("Application.View",function(a){var b;return a.EndFirstStepPageView=function(a){function d(){return this.start=c(this.start,this),this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.show=c(this.show,this),this.render=c(this.render,this),this.init=c(this.init,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.id="endFirstStep",d.prototype.type="PAGE",d.prototype.className="page endFirstStep",d.prototype.templateName="Page_EndFirstStep",d.prototype.hasTemplate=!0,d.prototype.init=function(){return this.addEventListener()},d.prototype.render=function(){var a;return a=Application.Utils.getExperienceTimeResults(),this.container.prepend(this.$el.html(this.template({label_end_step1:App.data.get("label_end_step1").replace("{{MINUTES}}",a.minutes).replace("{{SECONDS}}",a.seconds)})))},d.prototype.show=function(){var a,b=this;return this.render(),a=function(){return b.start()},d.__super__.show.call(this,!1,a)},d.prototype.addEventListener=function(){return this.listenTo(App.service,App.service.EVENT_END_SHOW_FIRST_STEP,this.show),this.listenTo(App.service,App.service.EVENT_END_SHOW_SECOND_STEP,this.kill),this.listenTo(App.service,App.service.EVENT_END_SHOW_THIRD_STEP,this.hide),this.listenTo(App.service,App.service.EVENT_END_SHOW_FOURTH_STEP,this.hide)},d.prototype.removeEventListener=function(){return this.stopListening(App.service)},d.prototype.start=function(){var a,b;return a=this.$el.find(".label"),App.state.IS_SAFARI?a.addClass("active safari"):(b=new TimelineLite,b.to(a,2,{textShadow:"0px 0px 0px rgba(255, 255, 255, 1)",opacity:1}),b.play())},d}(Application.View.AbstractView)}),a("Application.View",function(a){var b;return a.EndFourthStepPageView=function(a){function d(){return this.removeEventListener=c(this.removeEventListener,this),this.tick=c(this.tick,this),this.animate=c(this.animate,this),this.setupAnimation=c(this.setupAnimation,this),this.start=c(this.start,this),this.addEventListener=c(this.addEventListener,this),this.show=c(this.show,this),this.render=c(this.render,this),this.init=c(this.init,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.id="endFourthStep",d.prototype.type="PAGE",d.prototype.className="page",d.prototype.templateName="Page_EndFourthStep",d.prototype.hasTemplate=!0,d.prototype.stage=null,d.prototype.animation=null,d.prototype.spriteSheet=null,d.prototype.imageName="sprite_guycotten_logo.jpg",d.prototype.data={images:[],frames:[[1800,1690,180,130],[1620,1690,180,130],[1800,1560,180,130],[1620,1560,180,130],[1440,1950,180,130],[1440,1820,180,130],[1440,1690,180,130],[1440,1560,180,130],[1800,1430,180,130],[1620,1430,180,130],[1440,1430,180,130],[1260,1950,180,130],[1260,1820,180,130],[1260,1690,180,130],[1260,1560,180,130],[1260,1430,180,130],[1800,1300,180,130],[1620,1300,180,130],[1440,1300,180,130],[1260,1300,180,130],[1080,1950,180,130],[1080,1820,180,130],[1080,1690,180,130],[1080,1560,180,130],[1080,1430,180,130],[1080,1300,180,130],[1800,1170,180,130],[1620,1170,180,130],[1440,1170,180,130],[1260,1170,180,130],[1080,1170,180,130],[1800,1040,180,130],[1620,1040,180,130],[1440,1040,180,130],[1260,1040,180,130],[1080,1040,180,130],[900,1950,180,130],[900,1820,180,130],[900,1690,180,130],[900,1560,180,130],[900,1430,180,130],[900,1300,180,130],[900,1170,180,130],[900,1040,180,130],[1800,910,180,130],[1620,910,180,130],[1440,910,180,130],[1260,910,180,130],[1080,910,180,130],[900,910,180,130],[720,1950,180,130],[720,1820,180,130],[720,1690,180,130],[720,1560,180,130],[720,1430,180,130],[720,1300,180,130],[720,1170,180,130],[720,1040,180,130],[720,910,180,130],[1800,780,180,130],[1620,780,180,130],[1440,780,180,130],[1260,780,180,130],[1080,780,180,130],[900,780,180,130],[720,780,180,130],[1800,650,180,130],[1620,650,180,130],[1440,650,180,130],[1260,650,180,130],[1080,650,180,130],[900,650,180,130],[720,650,180,130],[540,1950,180,130],[540,1820,180,130],[540,1690,180,130],[540,1560,180,130],[540,1430,180,130],[540,1300,180,130],[540,1170,180,130],[540,1040,180,130],[540,910,180,130],[540,780,180,130],[540,650,180,130],[1800,520,180,130],[1620,520,180,130],[1440,520,180,130],[1260,520,180,130],[1080,520,180,130],[900,520,180,130],[720,520,180,130],[540,520,180,130],[360,1950,180,130],[360,1820,180,130],[360,1690,180,130],[360,1560,180,130],[360,1430,180,130],[360,1300,180,130],[360,1170,180,130],[360,1040,180,130],[360,910,180,130],[360,780,180,130],[360,650,180,130],[360,520,180,130],[1800,390,180,130],[1620,390,180,130],[1440,390,180,130],[1260,390,180,130],[1080,390,180,130],[900,390,180,130],[720,390,180,130],[540,390,180,130],[360,390,180,130],[180,1950,180,130],[180,1820,180,130],[180,1690,180,130],[180,1560,180,130],[180,1430,180,130],[180,1300,180,130],[180,1170,180,130],[180,1040,180,130],[180,910,180,130],[180,780,180,130],[180,650,180,130],[180,520,180,130],[180,390,180,130],[1800,260,180,130],[1620,260,180,130],[1440,260,180,130],[1260,260,180,130],[1080,260,180,130],[900,260,180,130],[720,260,180,130],[540,260,180,130],[360,260,180,130],[180,260,180,130],[1800,130,180,130],[1620,130,180,130],[1440,130,180,130],[1260,130,180,130],[1080,130,180,130],[900,130,180,130],[720,130,180,130],[540,130,180,130],[360,130,180,130],[180,130,180,130],[0,1950,180,130],[0,1820,180,130],[0,1690,180,130],[0,1560,180,130],[0,1430,180,130],[0,1300,180,130],[0,1170,180,130],[0,1040,180,130],[0,910,180,130],[0,780,180,130],[0,650,180,130],[0,520,180,130],[0,390,180,130],[0,260,180,130],[0,130,180,130],[1800,0,180,130],[1620,0,180,130],[1440,0,180,130],[1260,0,180,130],[1080,0,180,130],[900,0,180,130],[720,0,180,130],[540,0,180,130],[360,0,180,130],[180,0,180,130],[0,0,180,130]],animations:{run:[0,171]}},d.prototype.stageWidth=180,d.prototype.stageHeight=130,d.prototype.init=function(){return this.render(),this.addEventListener(),this.setupAnimation()},d.prototype.render=function(){return this.container.append(this.$el.html(this.template({label_end_step4:App.data.get("label_end_step4")})))},d.prototype.show=function(){var a,b=this;return a=function(){return b.start()},d.__super__.show.call(this,!1,a)},d.prototype.addEventListener=function(){return this.listenTo(App.service,App.service.EVENT_END_SHOW_FIRST_STEP,this.hide),this.listenTo(App.service,App.service.EVENT_END_SHOW_SECOND_STEP,this.hide),this.listenTo(App.service,App.service.EVENT_END_SHOW_THIRD_STEP,this.hide),this.listenTo(App.service,App.service.EVENT_END_SHOW_FOURTH_STEP,this.show),this.listenTo(App.service,App.service.EVENT_SHOW_SHARING,this.kill)},d.prototype.start=function(){var a=this;return this.animate(),App.config.LANGUAGE_EN?_.delay(function(){var b,c;return b=a.$el.find(".label"),c=new TimelineLite,c.to(b,.68,{opacity:1}),c.to(b,1.68,{opacity:0},"+=2.64"),c.play()},1200):void 0},d.prototype.setupAnimation=function(){return this.stage=new createjs.Stage("canvas-logo"),this.stage.canvas.width=this.stageWidth,this.stage.canvas.height=this.stageHeight,this.data.images[0]=App.config.IMAGES_PATH+this.imageName,this.spriteSheet=new createjs.SpriteSheet(this.data),this.spriteSheet.framerate=25,this.animation=new createjs.Sprite(this.spriteSheet,0),this.stage.addChild(this.animation)},d.prototype.animate=function(){var a=this;return this.animation=new createjs.Sprite(this.spriteSheet,"run"),createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED,createjs.Ticker.addEventListener("tick",this.tick),this.stage.addChild(this.animation),this.animation.addEventListener("animationend",function(){return a.animation.stop(),a.$el.find("canvas").hide()})},d.prototype.tick=function(a){return this.stage.update(a)},d.prototype.removeEventListener=function(){return this.stopListening(App.service),createjs.Ticker.removeEventListener("tick",this.tick)},d}(Application.View.AbstractView)}),a("Application.View",function(a){var b;return a.EndSecondStepPageView=function(a){function d(){return this.start=c(this.start,this),this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.hide=c(this.hide,this),this.show=c(this.show,this),this.render=c(this.render,this),this.init=c(this.init,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.id="endSecondStep",d.prototype.type="PAGE",d.prototype.className="page",d.prototype.templateName="Page_EndSecondStep",d.prototype.hasTemplate=!0,d.prototype.init=function(){return this.render(),this.addEventListener()},d.prototype.render=function(){return this.container.append(this.$el.html(this.template({label_end_step2:App.data.get("label_end_step2")})))},d.prototype.show=function(){var a,b=this;return a=function(){return b.$el.addClass("active"),b.start()},d.__super__.show.call(this,!1,a)},d.prototype.hide=function(){var a,b=this;return a=function(){return b.$el.removeClass("active")},d.__super__.hide.call(this,a)},d.prototype.addEventListener=function(){return this.listenTo(App.service,App.service.EVENT_END_SHOW_FIRST_STEP,this.hide),this.listenTo(App.service,App.service.EVENT_END_SHOW_SECOND_STEP,this.show),this.listenTo(App.service,App.service.EVENT_END_SHOW_THIRD_STEP,this.kill),this.listenTo(App.service,App.service.EVENT_END_SHOW_FOURTH_STEP,this.hide)},d.prototype.removeEventListener=function(){return this.stopListening(App.service)},d.prototype.start=function(){var a,b;return a=this.$el.find(".label"),b=new TimelineLite,b.to(a,1.68,{textShadow:"0px 0px 0px rgba(255, 255, 255, 1)",opacity:1}),b.to(a,1.68,{textShadow:"0px 0px 100px rgba(255, 255, 255, 1)",opacity:.5},"+=2.84"),b.play()},d}(Application.View.AbstractView)}),a("Application.View",function(a){var b;return a.EndThirdStepPageView=function(a){function d(){return this.removeEventListener=c(this.removeEventListener,this),this.tick=c(this.tick,this),this.animate=c(this.animate,this),this.setupAnimation=c(this.setupAnimation,this),this.start=c(this.start,this),this.addEventListener=c(this.addEventListener,this),this.show=c(this.show,this),this.render=c(this.render,this),this.init=c(this.init,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.id="endThirdStep",d.prototype.type="PAGE",d.prototype.className="page",d.prototype.templateName="Page_EndThirdStep",d.prototype.hasTemplate=!0,d.prototype.stage=null,d.prototype.imageName="sprite_guycotten_lifejacket.jpg",d.prototype.data={images:[],frames:[[0,0,86,86],[0,86,86,86],[0,172,86,86],[0,258,86,86],[0,344,86,86],[86,0,86,86],[86,86,86,86],[86,172,86,86],[86,258,86,86],[86,344,86,86],[172,0,86,86],[172,86,86,86],[172,172,86,86],[172,258,86,86],[172,344,86,86],[258,0,86,86],[258,86,86,86],[258,172,86,86],[258,258,86,86],[258,344,86,86],[344,0,86,86],[344,86,86,86],[344,172,86,86],[344,258,86,86],[344,344,86,86],[430,0,86,86],[430,86,86,86],[430,172,86,86],[430,258,86,86],[430,344,86,86],[516,0,86,86],[516,86,86,86],[516,172,86,86],[516,258,86,86],[516,344,86,86],[602,0,86,86],[602,86,86,86],[602,172,86,86],[602,258,86,86],[602,344,86,86],[688,0,86,86],[688,86,86,86],[688,172,86,86],[688,258,86,86],[688,344,86,86],[774,0,86,86],[774,86,86,86],[774,172,86,86],[774,258,86,86],[774,344,86,86],[860,0,86,86],[860,86,86,86],[860,172,86,86],[860,258,86,86],[860,344,86,86],[946,0,86,86],[946,86,86,86],[946,172,86,86],[946,258,86,86],[946,344,86,86],[1032,0,86,86],[1032,86,86,86],[1032,172,86,86],[1032,258,86,86],[1032,344,86,86],[1118,0,86,86],[1118,86,86,86],[1118,172,86,86],[1118,258,86,86],[1118,344,86,86],[1204,0,86,86],[1204,86,86,86],[1204,172,86,86],[1204,258,86,86],[1204,344,86,86],[1290,0,86,86],[1290,86,86,86],[1290,172,86,86],[1290,258,86,86],[1290,344,86,86],[1376,0,86,86],[1376,86,86,86],[1376,172,86,86],[1376,258,86,86],[1376,344,86,86],[1462,0,86,86],[1462,86,86,86],[1462,172,86,86],[1462,258,86,86],[1462,344,86,86],[1548,0,86,86],[1634,0,86,86],[1720,0,86,86],[1806,0,86,86],[1548,86,86,86],[1548,172,86,86],[1548,258,86,86],[1548,344,86,86],[1634,86,86,86],[1720,86,86,86],[1806,86,86,86],[1634,172,86,86],[1634,258,86,86],[1634,344,86,86],[1720,172,86,86],[1806,172,86,86],[1720,258,86,86],[0,0,86,86]],animations:{run:[0,107]}},d.prototype.stageWidth=86,d.prototype.stageHeight=86,d.prototype.spriteSheet=null,d.prototype.animation=null,d.prototype.init=function(){return this.addEventListener(),this.render(),this.setupAnimation()},d.prototype.render=function(){return this.container.append(this.$el.html(this.template({label_end_step3:App.data.get("label_end_step3")})))},d.prototype.show=function(){var a,b=this;return a=function(){return b.start()},d.__super__.show.call(this,!1,a)},d.prototype.addEventListener=function(){return this.listenTo(App.service,App.service.EVENT_END_SHOW_FIRST_STEP,this.hide),this.listenTo(App.service,App.service.EVENT_END_SHOW_SECOND_STEP,this.hide),this.listenTo(App.service,App.service.EVENT_END_SHOW_THIRD_STEP,this.show),this.listenTo(App.service,App.service.EVENT_END_SHOW_FOURTH_STEP,this.kill)},d.prototype.start=function(){var a,b,c=this;return a=this.$el.find(".label"),b=new TimelineLite,b.to(a,1.68,{textShadow:"0px 0px 1px rgba(248, 190, 75, 1)",opacity:1}),_.delay(function(){return c.animate()},300),b.to(a,1.68,{textShadow:"0px 0px 100px rgba(248, 190, 75, 1)",opacity:0},"+=2.3"),b.play()},d.prototype.setupAnimation=function(){return this.stage=new createjs.Stage("canvas-jacket"),this.stage.canvas.width=this.stage.canvas.height=this.stageWidth,this.data.images[0]=App.config.IMAGES_PATH+this.imageName,this.spriteSheet=new createjs.SpriteSheet(this.data),this.spriteSheet.framerate=25,this.animation=new createjs.Sprite(this.spriteSheet,0),this.stage.addChild(this.animation)},d.prototype.animate=function(){var a=this;return this.animation=new createjs.Sprite(this.spriteSheet,"run"),createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED,createjs.Ticker.addEventListener("tick",this.tick),this.stage.addChild(this.animation),this.animation.addEventListener("animationend",function(){return a.animation.stop()})},d.prototype.tick=function(a){return this.stage.update(a)},d.prototype.removeEventListener=function(){return this.stopListening(App.service),createjs.Ticker.removeEventListener("tick",this.tick)},d}(Application.View.AbstractView)}),a("Application.View",function(a){var b;return a.HelpPageView=function(a){function d(){return this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.hide=c(this.hide,this),this.show=c(this.show,this),this.onClose=c(this.onClose,this),this.render=c(this.render,this),this.init=c(this.init,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.id="help",d.prototype.type="SCREEN",d.prototype.className="screen",d.prototype.templateName="Screen_Help",d.prototype.hasTemplate=!0,d.prototype.triggerPause=!0,d.prototype.canBeClosed=!0,d.prototype.events={"click .btn-close":"onClose"},d.prototype.init=function(){return this.addEventListener(),this.render()},d.prototype.render=function(){return this.container.append(this.$el.html(this.template({label_help_scroll_title:App.data.get("label_help_scroll_title"),label_help_keyboard_title:App.data.get("label_help_keyboard_title"),label_button_close:App.data.get("label_button_close"),label_help_tablet_title:App.data.get("label_help_tablet_title"),label_help_tablet_desc:App.data.get("label_help_tablet_desc"),label_help_info:App.data.get("label_help_info"),label_help_tablet_info:App.data.get("label_help_tablet_info")})))},d.prototype.onClose=function(a){return null!=a?(a.preventDefault(),a.stopPropagation(),App.service.trigger(App.service.EVENT_HIDE_HELP)):void 0},d.prototype.show=function(){var a,b=this;if(!App.state.HOLD)return a=function(){return $("."+b.id).parent("li").addClass("active")},d.__super__.show.call(this,!0,a)},d.prototype.hide=function(){var a,b=this;return a=function(){return $("."+b.id).parent("li").removeClass("active")},d.__super__.hide.call(this,a)},d.prototype.addEventListener=function(){return this.listenTo(App.service,App.service.EVENT_SHOW_HELP,this.show),this.listenTo(App.service,App.service.EVENT_HIDE_HELP,this.hide),this.listenTo(App.service,App.service.EVENT_SHOW_CREDITS,this.hide)},d.prototype.removeEventListener=function(){return this.stopListening(App.service)},d}(Application.View.AbstractView)}),a("Application.View",function(a){var b;return a.IntroPageView=function(a){function d(){return this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.onSkip=c(this.onSkip,this),this.render=c(this.render,this),this.init=c(this.init,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.id="intro",d.prototype.type="PAGE",d.prototype.className="page",d.prototype.templateName="Page_Intro",d.prototype.hasTemplate=!0,d.prototype.events={"click .element-intro-skip":"onSkip"},d.prototype.init=function(){return this.addEventListener(),this.render()},d.prototype.render=function(){return this.container.append(this.$el.html(this.template({label_skip_intro:App.data.get("label_skip_intro"),finished:sessionStorage.getItem("finished")})))},d.prototype.onSkip=function(a){return null==a||App.state.HOLD?void 0:(a.preventDefault(),App.service.trigger(App.service.EVENT_SKIP_INTRO))},d.prototype.addEventListener=function(){return this.listenTo(App.experienceController,App.experienceController.EVENT_INTRO_STARTED,this.show),this.listenTo(App.experienceController,App.experienceController.EVENT_INTRO_ENDED,this.kill),this.listenTo(App.service,App.experienceController.EVENT_FALL_INTO_SEA,this.kill),this.listenTo(App.service,App.service.EVENT_SKIP_INTRO,this.kill)},d.prototype.removeEventListener=function(){return this.stopListening(App.service),this.stopListening(App.experienceController)},d}(Application.View.AbstractView)}),a("Application.View",function(a){var b;return a.LoadingPageView=function(a){function d(){return this.cancelAnimationFrame=c(this.cancelAnimationFrame,this),this.toggleFullScreen=c(this.toggleFullScreen,this),this.onStart=c(this.onStart,this),this.onProgress=c(this.onProgress,this),this.onPreloadAssetsComplete=c(this.onPreloadAssetsComplete,this),this.startExperience=c(this.startExperience,this),this.disclaimerAnimation=c(this.disclaimerAnimation,this),this.baselineAnimation=c(this.baselineAnimation,this),this.checkFinished=c(this.checkFinished,this),this.loadingBar=c(this.loadingBar,this),this.tick=c(this.tick,this),this.animate=c(this.animate,this),this.onVideoReady=c(this.onVideoReady,this),this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.hide=c(this.hide,this),this.start=c(this.start,this),this.render=c(this.render,this),this.init=c(this.init,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.id="loading",d.prototype.type="PAGE",d.prototype.className="page page-loading",d.prototype.templateName="Page_Loading",d.prototype.hasTemplate=!0,d.prototype.hasTransition=!1,d.prototype.startDate=null,d.prototype.progress=0,d.prototype.raf=null,d.prototype.duration=15e3,d.prototype.progressBar=null,d.prototype.videoReady=!1,d.prototype.hold=!1,d.prototype.percent=100,d.prototype.isPreloadAssetsComplete=!1,d.prototype.animationDelay=1e3,d.prototype.stage=null,d.prototype.canvas="canvas-title",d.prototype.titleImageName="sprite_guycotten_title.jpg",d.prototype.titleData={images:[],frames:[[0,0,640,87],[640,0,640,87],[1280,0,640,87],[1920,0,640,87],[0,87,640,87],[640,87,640,87],[1280,87,640,87],[1920,87,640,87],[0,174,640,87],[640,174,640,87],[1280,174,640,87],[1920,174,640,87],[0,261,640,87],[640,261,640,87],[1280,261,640,87],[1920,261,640,87],[0,348,640,87],[640,348,640,87],[1280,348,640,87],[1920,348,640,87],[0,435,640,87],[640,435,640,87],[1280,435,640,87],[1920,435,640,87],[0,522,640,87],[640,522,640,87],[1280,522,640,87],[1920,522,640,87],[0,609,640,87],[640,609,640,87],[1280,609,640,87],[1920,609,640,87],[0,696,640,87],[640,696,640,87],[1280,696,640,87],[1920,696,640,87],[0,783,640,87],[640,783,640,87],[1280,783,640,87],[1920,783,640,87],[0,870,640,87],[640,870,640,87],[1280,870,640,87],[1920,870,640,87],[0,957,640,87],[640,957,640,87],[1280,957,640,87],[1920,957,640,87],[0,1044,640,87],[640,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1920,1044,640,87],[0,1131,640,87],[640,1131,640,87],[1280,1131,640,87],[1920,1131,640,87],[0,1218,640,87],[640,1218,640,87],[1280,1218,640,87],[1920,1218,640,87],[0,1305,640,87],[640,1305,640,87],[1280,1305,640,87],[1920,1305,640,87],[0,1392,640,87],[640,1392,640,87],[1280,1392,640,87],[1920,1392,640,87],[0,1479,640,87],[640,1479,640,87],[1280,1479,640,87],[1920,1479,640,87],[0,1566,640,87],[640,1566,640,87],[1280,1566,640,87],[1920,1566,640,87],[0,1653,640,87],[640,1653,640,87],[1280,1653,640,87],[1920,1653,640,87],[0,1740,640,87],[640,1740,640,87],[1280,1740,640,87],[1920,1740,640,87],[0,1827,640,87],[640,1827,640,87],[1280,1827,640,87],[1920,1827,640,87],[0,1914,640,87],[640,1914,640,87],[1280,1914,640,87],[1920,1914,640,87],[0,2001,640,87],[640,2001,640,87],[1280,2001,640,87],[1920,2001,640,87],[0,2088,640,87],[0,2175,640,87],[0,2262,640,87],[0,2349,640,87],[0,2436,640,87],[0,2523,640,87],[0,2610,640,87],[0,2697,640,87],[0,2784,640,87],[0,2871,640,87],[0,2958,640,87],[0,3045,640,87],[0,3132,640,87],[0,3219,640,87],[0,3306,640,87],[0,3393,640,87],[640,2088,640,87],[1280,2088,640,87],[1920,2088,640,87],[640,2175,640,87],[1280,2175,640,87],[1920,2175,640,87],[640,2262,640,87],[1280,2262,640,87],[1920,2262,640,87],[640,2349,640,87],[1280,2349,640,87],[1920,2349,640,87],[640,2436,640,87],[1280,2436,640,87],[1920,2436,640,87],[640,2523,640,87],[1280,2523,640,87],[1920,2523,640,87],[640,2610,640,87],[1280,2610,640,87],[1920,2610,640,87],[640,2697,640,87],[640,2784,640,87],[640,2871,640,87],[640,2958,640,87],[640,3045,640,87],[640,3132,640,87],[640,3219,640,87],[640,3306,640,87],[640,3393,640,87],[1280,2697,640,87],[1920,2697,640,87],[1280,2784,640,87],[1920,2784,640,87],[1280,2871,640,87],[1920,2871,640,87],[1280,2958,640,87],[1920,2958,640,87],[1280,3045,640,87],[1920,3045,640,87],[1280,3132,640,87],[1920,3132,640,87],[1280,3219,640,87],[1920,3219,640,87],[1280,3306,640,87],[1920,3306,640,87],[1280,3393,640,87]],animations:{title:[0,183]}},d.prototype.titleImageNameEN="sprite_guycotten_title_en.jpg",d.prototype.titleDataEN={images:[],frames:[[0,0,640,87],[640,0,640,87],[1280,0,640,87],[1920,0,640,87],[0,87,640,87],[640,87,640,87],[1280,87,640,87],[1920,87,640,87],[0,174,640,87],[640,174,640,87],[1280,174,640,87],[1920,174,640,87],[0,261,640,87],[640,261,640,87],[1280,261,640,87],[1920,261,640,87],[0,348,640,87],[640,348,640,87],[1280,348,640,87],[1920,348,640,87],[0,435,640,87],[640,435,640,87],[1280,435,640,87],[1920,435,640,87],[0,522,640,87],[640,522,640,87],[1280,522,640,87],[1920,522,640,87],[0,609,640,87],[640,609,640,87],[1280,609,640,87],[1920,609,640,87],[0,696,640,87],[640,696,640,87],[1280,696,640,87],[1920,696,640,87],[0,783,640,87],[640,783,640,87],[1280,783,640,87],[1920,783,640,87],[0,870,640,87],[640,870,640,87],[1280,870,640,87],[1920,870,640,87],[0,957,640,87],[640,957,640,87],[1280,957,640,87],[1920,957,640,87],[0,1044,640,87],[640,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1280,1044,640,87],[1920,1044,640,87],[0,1131,640,87],[640,1131,640,87],[1280,1131,640,87],[1920,1131,640,87],[0,1218,640,87],[640,1218,640,87],[1280,1218,640,87],[1920,1218,640,87],[0,1305,640,87],[640,1305,640,87],[1280,1305,640,87],[1920,1305,640,87],[0,1392,640,87],[640,1392,640,87],[1280,1392,640,87],[1920,1392,640,87],[0,1479,640,87],[640,1479,640,87],[1280,1479,640,87],[1920,1479,640,87],[0,1566,640,87],[640,1566,640,87],[1280,1566,640,87],[1920,1566,640,87],[0,1653,640,87],[640,1653,640,87],[1280,1653,640,87],[1920,1653,640,87],[0,1740,640,87],[640,1740,640,87],[1280,1740,640,87],[1920,1740,640,87],[0,1827,640,87],[640,1827,640,87],[1280,1827,640,87],[1920,1827,640,87],[0,1914,640,87],[640,1914,640,87],[1280,1914,640,87],[1920,1914,640,87],[0,2001,640,87],[640,2001,640,87],[1280,2001,640,87],[1920,2001,640,87],[0,2088,640,87],[0,2175,640,87],[0,2262,640,87],[0,2349,640,87],[0,2436,640,87],[0,2523,640,87],[0,2610,640,87],[0,2697,640,87],[0,2784,640,87],[0,2871,640,87],[0,2958,640,87],[0,3045,640,87],[0,3132,640,87],[0,3219,640,87],[0,3306,640,87],[0,3393,640,87],[640,2088,640,87],[1280,2088,640,87],[1920,2088,640,87],[640,2175,640,87],[1280,2175,640,87],[1920,2175,640,87],[640,2262,640,87],[1280,2262,640,87],[1920,2262,640,87],[640,2349,640,87],[1280,2349,640,87],[1920,2349,640,87],[640,2436,640,87],[1280,2436,640,87],[1920,2436,640,87],[640,2523,640,87],[1280,2523,640,87],[1920,2523,640,87],[640,2610,640,87],[1280,2610,640,87],[1920,2610,640,87],[640,2697,640,87],[640,2784,640,87],[640,2871,640,87],[640,2958,640,87],[640,3045,640,87],[640,3132,640,87],[640,3219,640,87],[640,3306,640,87],[640,3393,640,87],[1280,2697,640,87],[1920,2697,640,87],[1280,2784,640,87],[1920,2784,640,87],[1280,2871,640,87],[1920,2871,640,87],[1280,2958,640,87],[1920,2958,640,87],[1280,3045,640,87],[1920,3045,640,87],[1280,3132,640,87],[1920,3132,640,87],[1280,3219,640,87],[1920,3219,640,87],[1280,3306,640,87],[1920,3306,640,87],[1280,3393,640,87]],animations:{title:[0,183]}},d.prototype.titleAnimation=null,d.prototype.OImageName="sprite_guycotten_o.jpg",d.prototype.OData={images:[],frames:[[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[462,294,42,42],[420,336,42,42],[420,294,42,42],[462,252,42,42],[420,252,42,42],[378,336,42,42],[378,294,42,42],[378,252,42,42],[462,210,42,42],[420,210,42,42],[378,210,42,42],[336,336,42,42],[336,294,42,42],[336,252,42,42],[336,210,42,42],[462,168,42,42],[420,168,42,42],[378,168,42,42],[336,168,42,42],[294,336,42,42],[294,294,42,42],[294,252,42,42],[294,210,42,42],[294,168,42,42],[462,126,42,42],[420,126,42,42],[378,126,42,42],[336,126,42,42],[294,126,42,42],[252,336,42,42],[252,294,42,42],[252,252,42,42],[252,210,42,42],[252,168,42,42],[252,126,42,42],[462,84,42,42],[420,84,42,42],[378,84,42,42],[336,84,42,42],[294,84,42,42],[252,84,42,42],[210,336,42,42],[210,294,42,42],[210,252,42,42],[210,210,42,42],[210,168,42,42],[210,126,42,42],[210,84,42,42],[462,42,42,42],[420,42,42,42],[378,42,42,42],[336,42,42,42],[294,42,42,42],[252,42,42,42],[210,42,42,42],[168,336,42,42],[168,294,42,42],[168,252,42,42],[168,210,42,42],[168,168,42,42],[168,126,42,42],[168,84,42,42],[168,42,42,42],[462,0,42,42],[420,0,42,42],[378,0,42,42],[336,0,42,42],[294,0,42,42],[252,0,42,42],[210,0,42,42],[168,0,42,42],[126,336,42,42],[126,294,42,42],[126,252,42,42],[126,210,42,42],[126,168,42,42],[126,126,42,42],[126,84,42,42],[126,42,42,42],[126,0,42,42],[84,336,42,42],[84,294,42,42],[84,252,42,42],[84,210,42,42],[84,168,42,42],[84,126,42,42],[84,84,42,42],[84,42,42,42],[84,0,42,42],[42,336,42,42],[42,294,42,42],[42,252,42,42],[42,210,42,42],[42,168,42,42],[42,126,42,42],[42,84,42,42],[42,42,42,42],[42,0,42,42],[0,336,42,42],[0,294,42,42],[0,252,42,42],[0,210,42,42],[0,168,42,42],[0,126,42,42],[0,84,42,42],[0,42,42,42],[0,0,42,42]],animations:{o:[0,183]}},d.prototype.OAnimation=null,d.prototype.ODeg=0,d.prototype.titleDisplayed=!1,d.prototype.events={"click .button-start":"onStart","click .icon-fs":"toggleFullScreen"},d.prototype.init=function(){return App.config.DEBUG&&(this.duration=4e3),this.render(),this.addEventListener(),App.state.IS_DESKTOP&&this.start(),this
},d.prototype.render=function(){return this.container.append(this.$el.html(this.template({label_loading_small_title:App.data.get("label_loading_small_title"),label_loading_start_button:App.data.get("label_loading_start_button"),label_loading_disclaimer:App.data.get(App.state.HAS_FULLSCREEN?"label_loading_disclaimer":"label_loading_disclaimer_wfs"),label_loading_baseline:App.data.get("label_loading_baseline")}))),this.$el.addClass("active"),this.progressBar=this.$el.find(".progress-bar"),App.config.LANGUAGE_EN&&this.baselineAnimation(),this},d.prototype.start=function(){var a=this;return window.requestAnimationFrame(this.loadingBar),App.service.trigger(App.service.EVENT_PLAY_SOUND_INTRO),this.disclaimerAnimation(),App.state.IS_DESKTOP&&_.delay(function(){return a.animate()},this.animationDelay),this},d.prototype.hide=function(){return d.__super__.hide.apply(this,arguments),this.removeEventListener(),this.remove(),this},d.prototype.addEventListener=function(){return this.listenTo(App.service,App.service.EVENT_PRELOAD_ASSETS_PROGRESS,this.onProgress),this.listenTo(App.service,App.service.EVENT_EXPERIENCE_VIDEO_READY,this.onVideoReady),this.listenToOnce(App.service,App.service.EVENT_PRELOAD_ENDED,this.hide),this.listenToOnce(App.service,App.service.EVENT_PRELOAD_ASSETS_COMPLETE,this.onPreloadAssetsComplete),this.listenToOnce(App.service,App.service.EVENT_CLICK_START_EXPERIENCE,this.start),this},d.prototype.removeEventListener=function(){return createjs.Ticker.removeAllEventListeners(),this.cancelAnimationFrame(),this.stopListening(App.service),this},d.prototype.onVideoReady=function(){return this.videoReady=!0,this},d.prototype.animate=function(){var a,b,c,d=this;return this.titleData.images[0]=App.config.LANGUAGE_EN?App.config.IMAGES_PATH+this.titleImageNameEN:App.config.IMAGES_PATH+this.titleImageName,this.OData.images[0]=App.config.IMAGES_PATH+this.OImageName,this.stage=new createjs.Stage(this.canvas),c=new createjs.SpriteSheet(this.titleData),c.framerate=30,a=new createjs.SpriteSheet(this.OData),a.framerate=30,b=document.getElementById(this.canvas),b.parentNode.className=b.parentNode.className+" animate",this.titleAnimation=new createjs.Sprite(c,"title"),this.titleAnimation.addEventListener("animationend",function(){return d.titleAnimation.stop()}),this.OAnimation=new createjs.Sprite(a,"o"),this.OAnimation.x=76,this.OAnimation.y=58,this.OAnimation.regX=this.OAnimation.regY=21,this.OAnimation.addEventListener("animationend",function(){return d.OAnimation.stop(),d.titleDisplayed=!0}),createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED,createjs.Ticker.addEventListener("tick",this.tick),this.stage.addChild(this.titleAnimation,this.OAnimation),this},d.prototype.tick=function(a){return this.stage.update(a),null!=this.OAnimation||this.titleDisplayed?(this.OAnimation.rotation+=1,this):void 0},d.prototype.loadingBar=function(a){var b;return this.raf=window.requestAnimationFrame(this.loadingBar),null==this.startDate&&(this.startDate=a),b=(a-this.startDate)/this.duration*100,this.percent=Math.min(b,this.progress),TweenMax.killTweensOf(this.progressBar),TweenMax.to(this.progressBar,.1,{width:1.1*this.percent+"%"}),this.checkFinished(),this},d.prototype.checkFinished=function(){if(this.isPreloadAssetsComplete&&this.percent>=100&&this.videoReady){if(this.hold)return;return this.hold=!0,this.cancelAnimationFrame(),this.startExperience()}return this},d.prototype.baselineAnimation=function(){var a;return a=this.$el.find(".loading-baseline"),TweenMax.killTweensOf(a),TweenMax.to(a,2,{opacity:1,delay:5})},d.prototype.disclaimerAnimation=function(){var a;return a=this.$el.find(".loading-disclaimer"),TweenMax.killTweensOf(a),TweenMax.to(a,2,{opacity:1,delay:9})},d.prototype.startExperience=function(){return App.service.trigger(App.service.EVENT_PLAY_START_TITLE),_.delay(function(){return App.service.trigger(App.service.EVENT_PRELOAD_ENDED)},3e3),this},d.prototype.onPreloadAssetsComplete=function(){return this.isPreloadAssetsComplete=!0,this},d.prototype.onProgress=function(a){return this.progress=a},d.prototype.onStart=function(a){return null!=a?(a.stopPropagation(),$(a.currentTarget).remove(),App.service.trigger(App.service.EVENT_CLICK_START_EXPERIENCE),this):void 0},d.prototype.toggleFullScreen=function(a){return null!=a?(a.preventDefault(),App.service.trigger(App.service.EVENT_FULLSCREEN),this):void 0},d.prototype.cancelAnimationFrame=function(){return null!=this.raf&&window.cancelAnimationFrame(this.raf),this.raf=null,this},d}(Application.View.AbstractView)}),a("Application.View",function(a){var b;return a.OrientationPageView=function(a){function d(){return this.render=c(this.render,this),this.init=c(this.init,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.id="orientation",d.prototype.type="PAGE",d.prototype.className="page",d.prototype.templateName="Page_Orientation",d.prototype.hasTemplate=!0,d.prototype.hasTransition=!1,d.prototype.init=function(){return this.render()},d.prototype.render=function(){return $("body").append(this.$el.html(this.template({label_wrong_orientation:App.data.get("label_wrong_orientation")})))},d}(Application.View.AbstractView)}),a("Application.View",function(a){var b;return a.SharingPageView=function(a){function d(){return this.onClickedAnimation=c(this.onClickedAnimation,this),this.onWebsite=c(this.onWebsite,this),this.onCredits=c(this.onCredits,this),this.onGPlusSharing=c(this.onGPlusSharing,this),this.onFacebookSharing=c(this.onFacebookSharing,this),this.onTwitterSharing=c(this.onTwitterSharing,this),this.onRetry=c(this.onRetry,this),this.keyup=c(this.keyup,this),this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.addRetryEventListener=c(this.addRetryEventListener,this),this.show=c(this.show,this),this.render=c(this.render,this),this.init=c(this.init,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.id="sharing",d.prototype.type="PAGE",d.prototype.className="page sharing",d.prototype.templateName="Page_Sharing",d.prototype.hasTemplate=!0,d.prototype.hold=!1,d.prototype.events={"click	.link-sharing-facebook":"onFacebookSharing","click	.link-sharing-twitter":"onTwitterSharing","click	.link-sharing-gplus":"onGPlusSharing","click	.link-sharing-credits":"onCredits","click	.link-sharing-website":"onWebsite","click	.clicked-animation-link":"onClickedAnimation"},d.prototype.init=function(){return this.render(),this.addEventListener()},d.prototype.render=function(){return this.container.append(this.$el.html(this.template({label_sharing_drowning:App.data.get("label_sharing_drowning").replace("{{count}}",App.state.COUNT),label_sharing_share:App.data.get("label_sharing_share"),label_sharing_retry:App.data.get("label_sharing_retry"),label_sharing_retry_tablet:App.data.get("label_sharing_retry_tablet"),label_sharing_credits:App.data.get("label_sharing_credits"),label_sharing_website:App.data.get("label_sharing_website"),label_sharing_website_url:App.data.get("label_sharing_website_url")})))},d.prototype.show=function(){var a,b=this;return sessionStorage.setItem("finished",!0),a=function(){return b.addRetryEventListener()},d.__super__.show.call(this,!1,a)},d.prototype.addRetryEventListener=function(){return $(document).on("mousewheel",this.onRetry),$(document).on("keyup",this.keyup),Hammer(document).on("swipeup",this.onRetry),Hammer(document).on("swipedown",this.onRetry)},d.prototype.addEventListener=function(){return this.listenTo(App.service,App.service.EVENT_SHOW_SHARING,this.show),this.listenTo(App.service,App.service.EVENT_HIDE_SHARING,this.hide)},d.prototype.removeEventListener=function(){return this.stopListening(App.service),$(document).off("mousewheel",this.onRetry),$(document).off("keyup",this.keyup),Hammer(document).off("swipeup",this.onRetry),Hammer(document).off("swipedown",this.onRetry)},d.prototype.keyup=function(a){var b,c;for(a.preventDefault(),c=[38,40],b=c.length;b--;)if(a.keyCode===c[b])return this.onRetry(a)},d.prototype.onRetry=function(a){var b,c,d=this;if(null!=a&&(a.preventDefault(),a.stopPropagation(),!this.hold))return this.hold=!0,this.removeEventListener(),App.service.trigger(App.service.EVENT_RETRY_EXPERIENCE),this.$el.find(".sharing-container").addClass("off"),b=$(".sharing-retry"),TweenMax.killTweensOf(b),c={opacity:0,y:-window.innerHeight/2+b.height()/2,onComplete:function(){return d.hold=!1,location.reload()}},TweenMax.to(b,1,c)},d.prototype.onTwitterSharing=function(a){if(null!=a)return a.preventDefault(),App.state.IS_DESKTOP?_.delay(function(){return App.service.trigger(App.service.EVENT_SHARE_TWITTER,1)},300):App.state.IS_TABLET&&App.service.trigger(App.service.EVENT_SHARE_TWITTER,1),this},d.prototype.onFacebookSharing=function(a){if(null!=a)return a.preventDefault(),App.state.IS_DESKTOP?_.delay(function(){return App.service.trigger(App.service.EVENT_SHARE_FACEBOOK,1)},300):App.state.IS_TABLET&&App.service.trigger(App.service.EVENT_SHARE_FACEBOOK,1),this},d.prototype.onGPlusSharing=function(a){if(null!=a)return a.preventDefault(),App.state.IS_DESKTOP?_.delay(function(){return App.service.trigger(App.service.EVENT_SHARE_GPLUS,1)},300):App.state.IS_TABLET&&App.service.trigger(App.service.EVENT_SHARE_GPLUS,1),this},d.prototype.onCredits=function(a){return null!=a?(a.preventDefault(),a.stopPropagation(),App.service.trigger(App.service.EVENT_SHOW_CREDITS,!0)):void 0},d.prototype.onWebsite=function(a){var b;if(null!=a)return a.preventDefault(),a.stopPropagation(),b=$(a.currentTarget).attr("href"),null!=b&&window.open(b),App.service.trigger(App.service.EVENT_CLICK_GUYCOTTEN_WEBSITE,!0)},d.prototype.onClickedAnimation=function(a){var b;if(null!=a)return a.preventDefault(),b=$(a.currentTarget).parent("li"),b.addClass("clicked"),_.delay(function(){return b.removeClass("clicked")},500)},d}(Application.View.AbstractView)}),a("Application.View",function(a){var b;return a.TiredPageView=function(a){function d(){return this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.show=c(this.show,this),this.render=c(this.render,this),this.init=c(this.init,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.id="tired",d.prototype.type="SCREEN",d.prototype.className="screen",d.prototype.templateName="Screen_Tired",d.prototype.hasTemplate=!0,d.prototype.started=!1,d.prototype.init=function(){return this.addEventListener(),this.render()},d.prototype.render=function(){return this.container.append(this.$el.html(this.template({label_tired_title:App.data.get("label_tired_title"),label_tired_desc:App.data.get("label_tired_desc"),label_tired_desc_tablet:App.data.get("label_tired_desc_tablet")})))},d.prototype.show=function(){var a,b=this;if(!App.state.HOLD)return this.started=!0,a=function(){return _.delay(function(){return b.kill()},3500)},d.__super__.show.call(this,!0,a)},d.prototype.addEventListener=function(){return this.listenTo(App.service,App.service.EVENT_SHOW_HELP,this.hide),this.listenTo(App.service,App.service.EVENT_SHOW_CREDITS,this.hide),this.listenToOnce(App.service,App.service.EVENT_SHOW_TIRED,this.show),this.listenToOnce(App.service,App.service.EVENT_HIDE_TIRED,this.kill),this.listenToOnce(App.experienceController,App.experienceController.EVENT_IS_DYING,this.kill)},d.prototype.removeEventListener=function(){return this.stopListening(App.service),this.stopListening(App.experienceController)},d}(Application.View.AbstractView)}),a("Application.View",function(a){var b;return a.TutorialPageView=function(a){function d(){return this.tick=c(this.tick,this),this.animate=c(this.animate,this),this.setupAnimation=c(this.setupAnimation,this),this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.show=c(this.show,this),this.render=c(this.render,this),this.init=c(this.init,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.id="tutorial",d.prototype.type="SCREEN",d.prototype.className="screen",d.prototype.templateName="Screen_Tutorial",d.prototype.hasTemplate=!0,d.prototype.started=!1,d.prototype.delay=8e3,d.prototype.stage=null,d.prototype.animation=null,d.prototype.spriteSheet=null,d.prototype.imageName="sprite_guycotten_scroll.png",d.prototype.data={images:[],frames:[[0,0,380,180],[0,180,380,180],[0,360,380,180],[0,540,380,180],[0,720,380,180],[0,900,380,180],[0,1080,380,180],[0,1260,380,180],[0,1440,380,180],[0,1620,380,180],[0,1800,380,180],[0,1980,380,180],[380,0,380,180],[380,180,380,180],[380,360,380,180],[380,540,380,180],[380,720,380,180],[380,900,380,180],[380,1080,380,180],[380,1260,380,180],[380,1440,380,180],[380,1620,380,180],[380,1800,380,180],[380,1980,380,180],[760,0,380,180],[760,180,380,180],[760,360,380,180],[760,540,380,180],[760,720,380,180],[760,900,380,180],[760,1080,380,180],[760,1260,380,180],[760,1440,380,180],[760,1620,380,180],[760,1800,380,180],[760,1980,380,180],[1140,0,380,180],[1140,180,380,180],[1140,360,380,180],[1140,540,380,180],[1140,720,380,180],[1140,900,380,180],[1140,1080,380,180],[1140,1260,380,180],[1140,1440,380,180],[1140,1620,380,180],[1140,1800,380,180],[1140,1980,380,180],[1520,0,380,180],[1520,180,380,180],[1520,360,380,180],[1520,540,380,180],[1520,720,380,180],[1520,900,380,180],[1520,1080,380,180],[1520,1260,380,180],[1520,1440,380,180],[1520,1620,380,180],[1520,1800,380,180],[1520,1980,380,180],[1900,0,380,180],[1900,180,380,180],[1900,360,380,180],[1900,540,380,180],[1900,720,380,180],[1900,900,380,180],[1900,1080,380,180],[1900,1260,380,180],[1900,1440,380,180],[1900,1620,380,180],[1900,1800,380,180],[1900,1980,380,180],[2280,0,380,180],[2280,180,380,180],[2280,360,380,180],[2280,540,380,180],[2280,720,380,180],[2280,900,380,180],[2280,1080,380,180],[2280,1260,380,180],[2280,1440,380,180],[2280,1620,380,180],[2280,1800,380,180],[2280,1980,380,180],[2660,0,380,180],[2660,180,380,180],[2660,360,380,180],[2660,540,380,180],[2660,720,380,180],[2660,900,380,180],[2660,1080,380,180],[2660,1260,380,180],[2660,1440,380,180],[2660,1620,380,180],[2660,1800,380,180],[2660,1980,380,180],[3040,0,380,180],[3040,180,380,180],[3040,360,380,180],[3040,540,380,180],[3040,720,380,180],[3040,900,380,180],[3040,1080,380,180],[3040,1260,380,180],[3040,1440,380,180],[3040,1620,380,180],[3040,1800,380,180],[3040,1980,380,180],[3420,0,380,180],[3420,180,380,180],[3420,360,380,180],[3420,540,380,180],[3420,720,380,180],[3420,900,380,180],[3420,1080,380,180],[3420,1260,380,180],[3420,1440,380,180],[3420,1620,380,180],[3420,1800,380,180],[3420,1980,380,180],[3800,0,380,180],[3800,180,380,180],[3800,360,380,180],[3800,540,380,180],[3800,720,380,180],[3800,900,380,180],[3800,1080,380,180],[3800,1260,380,180],[3800,1440,380,180],[3800,1620,380,180],[3800,1800,380,180],[3800,1980,380,180],[4180,0,380,180],[4180,180,380,180],[4180,360,380,180],[4180,540,380,180],[4180,720,380,180],[4180,900,380,180],[4180,1080,380,180],[4180,1260,380,180],[4180,1440,380,180],[4180,1620,380,180],[4180,1800,380,180],[4180,1980,380,180],[4560,0,380,180],[4560,180,380,180],[4560,360,380,180],[4560,540,380,180],[4560,720,380,180],[4560,900,380,180],[4560,1080,380,180],[4560,1260,380,180],[4560,1440,380,180],[4560,1620,380,180],[4560,1800,380,180],[4560,1980,380,180],[4940,0,380,180],[4940,180,380,180],[4940,360,380,180],[4940,540,380,180],[4940,720,380,180],[4940,900,380,180],[4940,1080,380,180],[4940,1260,380,180],[4940,1440,380,180],[4940,1620,380,180],[4940,1800,380,180],[4940,1980,380,180],[5320,0,380,180],[5700,0,380,180],[6080,0,380,180],[6460,0,380,180],[6840,0,380,180],[7220,0,380,180],[5320,180,380,180],[5700,180,380,180],[6080,180,380,180],[6460,180,380,180],[6840,180,380,180],[7220,180,380,180],[5320,360,380,180],[5320,540,380,180],[5320,720,380,180],[5320,900,380,180],[5320,1080,380,180],[5320,1260,380,180],[5320,1440,380,180],[5320,1620,380,180],[5320,1800,380,180],[5320,1980,380,180],[5700,360,380,180],[6080,360,380,180],[6460,360,380,180],[6840,360,380,180],[7220,360,380,180],[5700,540,380,180],[6080,540,380,180],[6460,540,380,180],[6840,540,380,180],[7220,540,380,180],[5700,720,380,180],[5700,900,380,180],[5700,1080,380,180],[5700,1260,380,180],[5700,1440,380,180],[5700,1620,380,180],[5700,1800,380,180],[5700,1980,380,180],[6080,720,380,180],[6460,720,380,180],[6840,720,380,180],[7220,720,380,180],[6080,900,380,180],[6460,900,380,180],[6840,900,380,180],[7220,900,380,180],[6080,1080,380,180],[6080,1260,380,180],[6080,1440,380,180],[6080,1620,380,180],[6080,1800,380,180],[6080,1980,380,180],[6460,1080,380,180],[6840,1080,380,180],[7220,1080,380,180],[6460,1260,380,180],[6840,1260,380,180],[7220,1260,380,180],[6460,1440,380,180],[6460,1620,380,180],[6460,1800,380,180],[6460,1980,380,180],[6840,1440,380,180],[7220,1440,380,180],[6840,1620,380,180],[7220,1620,380,180]],animations:{run:[0,235]}},d.prototype.imageName2X="sprite_guycotten_scroll@2x.png",d.prototype.data2X={images:[],frames:[[0,0,750,380],[0,0,750,380],[0,0,750,380],[0,0,750,380],[0,0,750,380],[0,0,750,380],[0,0,750,380],[0,0,750,380],[0,0,750,380],[750,0,750,380],[1500,0,750,380],[2250,0,750,380],[3e3,0,750,380],[3750,0,750,380],[4500,0,750,380],[5250,0,750,380],[6e3,0,750,380],[6750,0,750,380],[7500,0,750,380],[0,380,750,380],[750,380,750,380],[1500,380,750,380],[2250,380,750,380],[3e3,380,750,380],[3750,380,750,380],[4500,380,750,380],[5250,380,750,380],[6e3,380,750,380],[6750,380,750,380],[7500,380,750,380],[0,760,750,380],[0,1140,750,380],[0,1520,750,380],[0,1900,750,380],[0,2280,750,380],[0,2660,750,380],[0,3040,750,380],[0,3420,750,380],[0,3800,750,380],[0,4180,750,380],[0,4560,750,380],[0,4940,750,380],[0,5320,750,380],[0,5700,750,380],[0,6080,750,380],[0,6460,750,380],[0,6840,750,380],[0,7220,750,380],[0,7600,750,380],[750,760,750,380],[1500,760,750,380],[2250,760,750,380],[3e3,760,750,380],[3750,760,750,380],[4500,760,750,380],[5250,760,750,380],[6e3,760,750,380],[6750,760,750,380],[7500,760,750,380],[750,1140,750,380],[1500,1140,750,380],[2250,1140,750,380],[3e3,1140,750,380],[3750,1140,750,380],[4500,1140,750,380],[5250,1140,750,380],[6e3,1140,750,380],[6750,1140,750,380],[7500,1140,750,380],[750,1520,750,380],[750,1900,750,380],[750,2280,750,380],[750,2660,750,380],[750,3040,750,380],[750,3420,750,380],[750,3800,750,380],[750,4180,750,380],[750,4560,750,380],[750,4940,750,380],[750,5320,750,380],[750,5700,750,380],[750,6080,750,380],[750,6460,750,380],[750,6840,750,380],[750,7220,750,380],[750,7600,750,380],[1500,1520,750,380],[2250,1520,750,380],[3e3,1520,750,380],[3750,1520,750,380],[4500,1520,750,380],[5250,1520,750,380],[6e3,1520,750,380],[6750,1520,750,380],[7500,1520,750,380],[1500,1900,750,380],[2250,1900,750,380],[3e3,1900,750,380],[3750,1900,750,380],[4500,1900,750,380],[5250,1900,750,380],[6e3,1900,750,380],[6750,1900,750,380],[7500,1900,750,380],[1500,2280,750,380],[1500,2660,750,380],[1500,3040,750,380],[1500,3420,750,380],[1500,3800,750,380],[1500,4180,750,380],[1500,4560,750,380],[1500,4940,750,380],[1500,5320,750,380],[1500,5700,750,380],[1500,6080,750,380],[1500,6460,750,380],[1500,6840,750,380],[1500,7220,750,380],[1500,7600,750,380],[2250,2280,750,380],[3e3,2280,750,380],[3750,2280,750,380],[4500,2280,750,380],[5250,2280,750,380],[6e3,2280,750,380],[6750,2280,750,380],[7500,2280,750,380],[2250,2660,750,380],[3e3,2660,750,380],[3750,2660,750,380],[4500,2660,750,380],[5250,2660,750,380],[6e3,2660,750,380],[6750,2660,750,380],[7500,2660,750,380],[2250,3040,750,380],[2250,3420,750,380],[2250,3800,750,380],[2250,4180,750,380],[2250,4560,750,380],[2250,4940,750,380],[2250,5320,750,380],[2250,5700,750,380],[2250,6080,750,380],[2250,6460,750,380],[2250,6840,750,380],[2250,7220,750,380],[2250,7600,750,380],[3e3,3040,750,380],[3750,3040,750,380],[4500,3040,750,380],[5250,3040,750,380],[6e3,3040,750,380],[6750,3040,750,380],[7500,3040,750,380],[3e3,3420,750,380],[3750,3420,750,380],[4500,3420,750,380],[5250,3420,750,380],[6e3,3420,750,380],[6750,3420,750,380],[7500,3420,750,380],[3e3,3800,750,380],[3e3,4180,750,380],[3e3,4560,750,380],[3e3,4940,750,380],[3e3,5320,750,380],[3e3,5700,750,380],[3e3,6080,750,380],[3e3,6460,750,380],[3e3,6840,750,380],[3e3,7220,750,380],[3e3,7600,750,380],[3750,3800,750,380],[4500,3800,750,380],[5250,3800,750,380],[6e3,3800,750,380],[6750,3800,750,380],[7500,3800,750,380],[3750,4180,750,380],[4500,4180,750,380],[5250,4180,750,380],[6e3,4180,750,380],[6750,4180,750,380],[7500,4180,750,380],[3750,4560,750,380],[3750,4940,750,380],[3750,5320,750,380],[3750,5700,750,380],[3750,6080,750,380],[3750,6460,750,380],[3750,6840,750,380],[3750,7220,750,380],[3750,7600,750,380],[4500,4560,750,380],[5250,4560,750,380],[6e3,4560,750,380],[6750,4560,750,380],[7500,4560,750,380],[4500,4940,750,380],[5250,4940,750,380],[6e3,4940,750,380],[6750,4940,750,380],[7500,4940,750,380],[4500,5320,750,380],[4500,5700,750,380],[4500,6080,750,380],[4500,6460,750,380],[4500,6840,750,380],[4500,7220,750,380],[4500,7600,750,380],[5250,5320,750,380],[6e3,5320,750,380],[6750,5320,750,380],[7500,5320,750,380],[5250,5700,750,380],[6e3,5700,750,380],[6750,5700,750,380],[7500,5700,750,380],[5250,6080,750,380],[5250,6460,750,380],[5250,6840,750,380],[5250,7220,750,380],[5250,7600,750,380],[6e3,6080,750,380],[6750,6080,750,380],[7500,6080,750,380],[6e3,6460,750,380],[6750,6460,750,380],[7500,6460,750,380],[6e3,6840,750,380],[6e3,7220,750,380],[6e3,7600,750,380],[6750,6840,750,380],[7500,6840,750,380],[6750,7220,750,380]],animations:{run:[0,235]}},d.prototype.imageNameEN="sprite_guycotten_scroll_en.png",d.prototype.dataEN={images:[],frames:[[0,0,380,180],[0,180,380,180],[0,360,380,180],[0,540,380,180],[0,720,380,180],[0,900,380,180],[0,1080,380,180],[0,1260,380,180],[0,1440,380,180],[0,1620,380,180],[0,1800,380,180],[0,1980,380,180],[380,0,380,180],[380,180,380,180],[380,360,380,180],[380,540,380,180],[380,720,380,180],[380,900,380,180],[380,1080,380,180],[380,1260,380,180],[380,1440,380,180],[380,1620,380,180],[380,1800,380,180],[380,1980,380,180],[760,0,380,180],[760,180,380,180],[760,360,380,180],[760,540,380,180],[760,720,380,180],[760,900,380,180],[760,1080,380,180],[760,1260,380,180],[760,1440,380,180],[760,1620,380,180],[760,1800,380,180],[760,1980,380,180],[1140,0,380,180],[1140,180,380,180],[1140,360,380,180],[1140,540,380,180],[1140,720,380,180],[1140,900,380,180],[1140,1080,380,180],[1140,1260,380,180],[1140,1440,380,180],[1140,1620,380,180],[1140,1800,380,180],[1140,1980,380,180],[1520,0,380,180],[1520,180,380,180],[1520,360,380,180],[1520,540,380,180],[1520,720,380,180],[1520,900,380,180],[1520,1080,380,180],[1520,1260,380,180],[1520,1440,380,180],[1520,1620,380,180],[1520,1800,380,180],[1520,1980,380,180],[1900,0,380,180],[1900,180,380,180],[1900,360,380,180],[1900,540,380,180],[1900,720,380,180],[1900,900,380,180],[1900,1080,380,180],[1900,1260,380,180],[1900,1440,380,180],[1900,1620,380,180],[1900,1800,380,180],[1900,1980,380,180],[2280,0,380,180],[2280,180,380,180],[2280,360,380,180],[2280,540,380,180],[2280,720,380,180],[2280,900,380,180],[2280,1080,380,180],[2280,1260,380,180],[2280,1440,380,180],[2280,1620,380,180],[2280,1800,380,180],[2280,1980,380,180],[2660,0,380,180],[2660,180,380,180],[2660,360,380,180],[2660,540,380,180],[2660,720,380,180],[2660,900,380,180],[2660,1080,380,180],[2660,1260,380,180],[2660,1440,380,180],[2660,1620,380,180],[2660,1800,380,180],[2660,1980,380,180],[3040,0,380,180],[3040,180,380,180],[3040,360,380,180],[3040,540,380,180],[3040,720,380,180],[3040,900,380,180],[3040,1080,380,180],[3040,1260,380,180],[3040,1440,380,180],[3040,1620,380,180],[3040,1800,380,180],[3040,1980,380,180],[3420,0,380,180],[3420,180,380,180],[3420,360,380,180],[3420,540,380,180],[3420,720,380,180],[3420,900,380,180],[3420,1080,380,180],[3420,1260,380,180],[3420,1440,380,180],[3420,1620,380,180],[3420,1800,380,180],[3420,1980,380,180],[3800,0,380,180],[3800,180,380,180],[3800,360,380,180],[3800,540,380,180],[3800,720,380,180],[3800,900,380,180],[3800,1080,380,180],[3800,1260,380,180],[3800,1440,380,180],[3800,1620,380,180],[3800,1800,380,180],[3800,1980,380,180],[4180,0,380,180],[4180,180,380,180],[4180,360,380,180],[4180,540,380,180],[4180,720,380,180],[4180,900,380,180],[4180,1080,380,180],[4180,1260,380,180],[4180,1440,380,180],[4180,1620,380,180],[4180,1800,380,180],[4180,1980,380,180],[4560,0,380,180],[4560,180,380,180],[4560,360,380,180],[4560,540,380,180],[4560,720,380,180],[4560,900,380,180],[4560,1080,380,180],[4560,1260,380,180],[4560,1440,380,180],[4560,1620,380,180],[4560,1800,380,180],[4560,1980,380,180],[4940,0,380,180],[4940,180,380,180],[4940,360,380,180],[4940,540,380,180],[4940,720,380,180],[4940,900,380,180],[4940,1080,380,180],[4940,1260,380,180],[4940,1440,380,180],[4940,1620,380,180],[4940,1800,380,180],[4940,1980,380,180],[5320,0,380,180],[5700,0,380,180],[6080,0,380,180],[6460,0,380,180],[6840,0,380,180],[7220,0,380,180],[5320,180,380,180],[5700,180,380,180],[6080,180,380,180],[6460,180,380,180],[6840,180,380,180],[7220,180,380,180],[5320,360,380,180],[5320,540,380,180],[5320,720,380,180],[5320,900,380,180],[5320,1080,380,180],[5320,1260,380,180],[5320,1440,380,180],[5320,1620,380,180],[5320,1800,380,180],[5320,1980,380,180],[5700,360,380,180],[6080,360,380,180],[6460,360,380,180],[6840,360,380,180],[7220,360,380,180],[5700,540,380,180],[6080,540,380,180],[6460,540,380,180],[6840,540,380,180],[7220,540,380,180],[5700,720,380,180],[5700,900,380,180],[5700,1080,380,180],[5700,1260,380,180],[5700,1440,380,180],[5700,1620,380,180],[5700,1800,380,180],[5700,1980,380,180],[6080,720,380,180],[6460,720,380,180],[6840,720,380,180],[7220,720,380,180],[6080,900,380,180],[6460,900,380,180],[6840,900,380,180],[7220,900,380,180],[6080,1080,380,180],[6080,1260,380,180],[6080,1440,380,180],[6080,1620,380,180],[6080,1800,380,180],[6080,1980,380,180],[6460,1080,380,180],[6840,1080,380,180],[7220,1080,380,180],[6460,1260,380,180],[6840,1260,380,180],[7220,1260,380,180],[6460,1440,380,180],[6460,1620,380,180],[6460,1800,380,180],[6460,1980,380,180],[6840,1440,380,180],[7220,1440,380,180],[6840,1620,380,180],[7220,1620,380,180]],animations:{run:[0,235]}},d.prototype.imageNameEN2X="sprite_guycotten_scroll_en@2x.png",d.prototype.dataEN2X={images:[],frames:[[0,0,750,380],[0,0,750,380],[0,0,750,380],[0,0,750,380],[0,0,750,380],[0,0,750,380],[0,0,750,380],[0,0,750,380],[0,0,750,380],[750,0,750,380],[1500,0,750,380],[2250,0,750,380],[3e3,0,750,380],[3750,0,750,380],[4500,0,750,380],[5250,0,750,380],[6e3,0,750,380],[6750,0,750,380],[7500,0,750,380],[0,380,750,380],[750,380,750,380],[1500,380,750,380],[2250,380,750,380],[3e3,380,750,380],[3750,380,750,380],[4500,380,750,380],[5250,380,750,380],[6e3,380,750,380],[6750,380,750,380],[7500,380,750,380],[0,760,750,380],[0,1140,750,380],[0,1520,750,380],[0,1900,750,380],[0,2280,750,380],[0,2660,750,380],[0,3040,750,380],[0,3420,750,380],[0,3800,750,380],[0,4180,750,380],[0,4560,750,380],[0,4940,750,380],[0,5320,750,380],[0,5700,750,380],[0,6080,750,380],[0,6460,750,380],[0,6840,750,380],[0,7220,750,380],[0,7600,750,380],[750,760,750,380],[1500,760,750,380],[2250,760,750,380],[3e3,760,750,380],[3750,760,750,380],[4500,760,750,380],[5250,760,750,380],[6e3,760,750,380],[6750,760,750,380],[7500,760,750,380],[750,1140,750,380],[1500,1140,750,380],[2250,1140,750,380],[3e3,1140,750,380],[3750,1140,750,380],[4500,1140,750,380],[5250,1140,750,380],[6e3,1140,750,380],[6750,1140,750,380],[7500,1140,750,380],[750,1520,750,380],[750,1900,750,380],[750,2280,750,380],[750,2660,750,380],[750,3040,750,380],[750,3420,750,380],[750,3800,750,380],[750,4180,750,380],[750,4560,750,380],[750,4940,750,380],[750,5320,750,380],[750,5700,750,380],[750,6080,750,380],[750,6460,750,380],[750,6840,750,380],[750,7220,750,380],[750,7600,750,380],[1500,1520,750,380],[2250,1520,750,380],[3e3,1520,750,380],[3750,1520,750,380],[4500,1520,750,380],[5250,1520,750,380],[6e3,1520,750,380],[6750,1520,750,380],[7500,1520,750,380],[1500,1900,750,380],[2250,1900,750,380],[3e3,1900,750,380],[3750,1900,750,380],[4500,1900,750,380],[5250,1900,750,380],[6e3,1900,750,380],[6750,1900,750,380],[7500,1900,750,380],[1500,2280,750,380],[1500,2660,750,380],[1500,3040,750,380],[1500,3420,750,380],[1500,3800,750,380],[1500,4180,750,380],[1500,4560,750,380],[1500,4940,750,380],[1500,5320,750,380],[1500,5700,750,380],[1500,6080,750,380],[1500,6460,750,380],[1500,6840,750,380],[1500,7220,750,380],[1500,7600,750,380],[2250,2280,750,380],[3e3,2280,750,380],[3750,2280,750,380],[4500,2280,750,380],[5250,2280,750,380],[6e3,2280,750,380],[6750,2280,750,380],[7500,2280,750,380],[2250,2660,750,380],[3e3,2660,750,380],[3750,2660,750,380],[4500,2660,750,380],[5250,2660,750,380],[6e3,2660,750,380],[6750,2660,750,380],[7500,2660,750,380],[2250,3040,750,380],[2250,3420,750,380],[2250,3800,750,380],[2250,4180,750,380],[2250,4560,750,380],[2250,4940,750,380],[2250,5320,750,380],[2250,5700,750,380],[2250,6080,750,380],[2250,6460,750,380],[2250,6840,750,380],[2250,7220,750,380],[2250,7600,750,380],[3e3,3040,750,380],[3750,3040,750,380],[4500,3040,750,380],[5250,3040,750,380],[6e3,3040,750,380],[6750,3040,750,380],[7500,3040,750,380],[3e3,3420,750,380],[3750,3420,750,380],[4500,3420,750,380],[5250,3420,750,380],[6e3,3420,750,380],[6750,3420,750,380],[7500,3420,750,380],[3e3,3800,750,380],[3e3,4180,750,380],[3e3,4560,750,380],[3e3,4940,750,380],[3e3,5320,750,380],[3e3,5700,750,380],[3e3,6080,750,380],[3e3,6460,750,380],[3e3,6840,750,380],[3e3,7220,750,380],[3e3,7600,750,380],[3750,3800,750,380],[4500,3800,750,380],[5250,3800,750,380],[6e3,3800,750,380],[6750,3800,750,380],[7500,3800,750,380],[3750,4180,750,380],[4500,4180,750,380],[5250,4180,750,380],[6e3,4180,750,380],[6750,4180,750,380],[7500,4180,750,380],[3750,4560,750,380],[3750,4940,750,380],[3750,5320,750,380],[3750,5700,750,380],[3750,6080,750,380],[3750,6460,750,380],[3750,6840,750,380],[3750,7220,750,380],[3750,7600,750,380],[4500,4560,750,380],[5250,4560,750,380],[6e3,4560,750,380],[6750,4560,750,380],[7500,4560,750,380],[4500,4940,750,380],[5250,4940,750,380],[6e3,4940,750,380],[6750,4940,750,380],[7500,4940,750,380],[4500,5320,750,380],[4500,5700,750,380],[4500,6080,750,380],[4500,6460,750,380],[4500,6840,750,380],[4500,7220,750,380],[4500,7600,750,380],[5250,5320,750,380],[6e3,5320,750,380],[6750,5320,750,380],[7500,5320,750,380],[5250,5700,750,380],[6e3,5700,750,380],[6750,5700,750,380],[7500,5700,750,380],[5250,6080,750,380],[5250,6460,750,380],[5250,6840,750,380],[5250,7220,750,380],[5250,7600,750,380],[6e3,6080,750,380],[6750,6080,750,380],[7500,6080,750,380],[6e3,6460,750,380],[6750,6460,750,380],[7500,6460,750,380],[6e3,6840,750,380],[6e3,7220,750,380],[6e3,7600,750,380],[6750,6840,750,380],[7500,6840,750,380],[6750,7220,750,380]],animations:{run:[0,235]}},d.prototype.init=function(){return this.addEventListener(),this.render(),App.state.IS_DESKTOP?this.setupAnimation():void 0},d.prototype.render=function(){return this.container.append(this.$el.html(this.template({label_tutorial_title:App.data.get("label_tutorial_title"),label_tutorial_title_tablet:App.data.get("label_tutorial_title_tablet"),label_tutorial_desc:App.data.get("label_tutorial_desc"),label_tutorial_additional_desc:App.data.get("label_help_tablet_info")})))},d.prototype.show=function(){var a,b=this;if(!App.state.HOLD)return this.started=!0,a=function(){return App.state.IS_DESKTOP?b.animate():App.state.IS_TABLET?_.delay(function(){return b.kill()},b.delay):void 0},d.__super__.show.call(this,!0,a)},d.prototype.addEventListener=function(){return this.listenTo(App.service,App.service.EVENT_SHOW_HELP,this.hide),this.listenTo(App.service,App.service.EVENT_SHOW_CREDITS,this.hide),this.listenToOnce(App.experienceController,App.experienceController.EVENT_EXPERIENCE_VIDEO_DESTROY,this.kill),this.listenToOnce(App.service,App.service.EVENT_SHOW_TUTORIAL,this.show)},d.prototype.removeEventListener=function(){return this.stopListening(App.service),App.state.IS_DESKTOP?createjs.Ticker.removeEventListener("tick",this.tick):void 0},d.prototype.setupAnimation=function(){return this.stage=new createjs.Stage("canvas-scroll-text"),App.config.LANGUAGE_EN?App.state.IS_RETINA?(this.dataEN2X.images[0]=App.config.IMAGES_PATH+this.imageNameEN2X,this.spriteSheet=new createjs.SpriteSheet(this.dataEN2X)):(this.dataEN.images[0]=App.config.IMAGES_PATH+this.imageNameEN,this.spriteSheet=new createjs.SpriteSheet(this.dataEN)):App.state.IS_RETINA?(this.data2X.images[0]=App.config.IMAGES_PATH+this.imageName2X,this.spriteSheet=new createjs.SpriteSheet(this.data2X)):(this.data.images[0]=App.config.IMAGES_PATH+this.imageName,this.spriteSheet=new createjs.SpriteSheet(this.data)),this.spriteSheet.framerate=30,this.animation=new createjs.Sprite(this.spriteSheet,0),this.stage.addChild(this.animation)
},d.prototype.animate=function(){var a=this;return App.state.IS_DESKTOP&&(createjs.Ticker.timingMode=createjs.Ticker.RAF,createjs.Ticker.addEventListener("tick",this.tick)),this.animation=new createjs.Sprite(this.spriteSheet,"run"),this.stage.addChild(this.animation),this.animation.addEventListener("animationend",function(){return a.animation.stop(),a.kill()})},d.prototype.tick=function(a){return this.stage.update(a),App.state.HOLD?this.hide():void 0},d}(Application.View.AbstractView)}),a("Application.View",function(a){var b;return a.UnsupportedPageView=function(a){function d(){return this.onUpgrade=c(this.onUpgrade,this),this.render=c(this.render,this),this.init=c(this.init,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.id="unsupported",d.prototype.type="PAGE",d.prototype.className="page",d.prototype.templateName="Page_Unsupported",d.prototype.hasTemplate=!0,d.prototype.hasTransition=!1,d.prototype.events={"click .unsupported-download-link":"onUpgrade"},d.prototype.init=function(){return this.render()},d.prototype.render=function(){return this.container.append(this.$el.html(this.template({IS_OUTDATED:this.IS_OUTDATED,IS_MOBILE:this.IS_MOBILE,label_website_url:App.data.get("label_website_url"),label_loading_small_title:App.data.get("label_loading_small_title"),label_unsupported_browser:App.data.get("label_unsupported_browser"),label_unsupported_mobile:App.data.get("label_unsupported_mobile"),label_unsupported_tablet:App.data.get("label_unsupported_tablet")})))},d.prototype.onUpgrade=function(a){var b;if(null!=a)return a.preventDefault(),a.stopPropagation(),b=$(a.currentTarget).attr("href"),null!=b?window.open(b):void 0},d}(Application.View.AbstractView)}),a("Application.Controller",function(a){return a.VideoController=function(){function a(a){var b,d;if(null==a&&(a=null),this.destroy=c(this.destroy,this),this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.pauseRequest=c(this.pauseRequest,this),this.playRequest=c(this.playRequest,this),this.hide=c(this.hide,this),this.show=c(this.show,this),this.pause=c(this.pause,this),this.play=c(this.play,this),this.start=c(this.start,this),this.initVideo=c(this.initVideo,this),this.onSuccess=c(this.onSuccess,this),this.init=c(this.init,this),_.extend(this,Backbone.Events),null!=a)for(b in a)d=a[b],this[b]=d;return this.options=a||{},this.$el=$("#"+this.el),this.initialize(),this}return a.prototype.$el=null,a.prototype.player=null,a.prototype.started=!1,a.prototype.template=null,a.prototype.templateName="Video",a.prototype.isExperience=!1,a.prototype.isDeath=!1,a.prototype.initTimecode=null,a.prototype.init=function(){return console.log(this," :: init"),this.template=JST["templates/"+this.templateName+"_Template.hbs"],this.$el.append(this.template({ID:this.videoName,WIDTH:App.config.VIDEO_WIDTH,HEIGHT:App.config.VIDEO_HEIGHT,IMAGES_URL:App.config.IMAGES_PATH,VIDEOS_URL:App.config.VIDEOS_PATH,VIDEO_NAME:this.videoName})),this.player=new Application.MediaElementController({id:this.videoName,el:this.el,isExperience:this.isExperience,isDeath:this.isDeath}),this.player.start(),this},a.prototype.onSuccess=function(){return this.addEventListener(),(App.state.IS_DESKTOP||this.isDeath)&&this.initVideo(),this},a.prototype.initVideo=function(){return console.log("VideoController :: initVideo"),null!=this.player?(this.player.initVideo(this.initTimecode),this):void 0},a.prototype.start=function(){return this.started=!0,this.play(!0),this},a.prototype.play=function(a){return null==a&&(a=!1),null!=this.player?(this.player.play(a),this):void 0},a.prototype.pause=function(){return null!=this.player?(this.player.pause(),this):void 0},a.prototype.show=function(){return null!=this.player?(this.player.video.show(),this):void 0},a.prototype.hide=function(){return null!=this.player?(this.player.video.hide(),this):void 0},a.prototype.playRequest=function(a){var b,c=this;return null==a&&(a=!0),this.started?(b=function(){return c.play()},App.state.IS_DESKTOP&&App.state.HAS_WEBGL&&a?App.service.trigger(App.service.EVENT_SHADER_SET_OPACITY,!1,b):b(),this):void 0},a.prototype.pauseRequest=function(a){return null==a&&(a=!0),this.started&&null!=this.player?(this.player.pause(),App.state.IS_DESKTOP&&App.state.HAS_WEBGL&&a&&(App.service.trigger(App.service.EVENT_SHADER_SET_TEXTURE,this.$el.find("video").get(0),App.config.VIDEO_WIDTH/2,App.config.VIDEO_HEIGHT),App.service.trigger(App.service.EVENT_SHADER_SET_OPACITY,!0)),this):void 0},a.prototype.addEventListener=function(){return this.listenTo(App.service,App.service.EVENT_RESIZE,this.resize),this.listenTo(App.service,App.service.EVENT_PAUSE_REQUEST,this.pauseRequest),this.listenTo(App.service,App.service.EVENT_PLAY_REQUEST,this.playRequest),this},a.prototype.removeEventListener=function(){return this.stopListening(App.service),this.stopListening(App.experienceController),this.stopListening(this.player),this},a.prototype.destroy=function(){var a=this;if(null!=this.player)return console.log("destroy : ",this.$el),this.$el.hide(),this.player.mute(),this.removeEventListener(),_.delay(function(){return a.player.destroy(),a.$el.remove()},2e3),this},a}()}),a("Application.Controller",function(a){var b;return a.DeathVideoController=function(a){function d(){return this.getVideoProgress=c(this.getVideoProgress,this),this.onSeek=c(this.onSeek,this),this.addEventListener=c(this.addEventListener,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.el="death-container",d.prototype.isDeath=!0,d.prototype.videoName=null,d.prototype.hasPoster=!1,d.prototype.initTimecode=.01,d.prototype.initialize=function(){return console.log("DeathVideoController :: initialize"),this.videoName=App.config.DEATH_VIDEO_NAME,this.listenToOnce(App.experienceController,App.experienceController.EVENT_START_EXPERIENCE,this.init),this.listenToOnce(App.service,App.service.EVENT_DEATH_VIDEO_SUCCESS,this.onSuccess),this},d.prototype.addEventListener=function(){return console.log("DeathVideoController :: addEventListener"),d.__super__.addEventListener.apply(this,arguments),this.listenTo(App.experienceController,App.experienceController.EVENT_DEATH_VIDEO_SEEK,this.onSeek),this.listenTo(App.experienceController,App.experienceController.EVENT_DEATH_VIDEO_PLAY,this.start),this.listenTo(App.experienceController,App.experienceController.EVENT_GET_VIDEO_DEATH_PROGRESS,this.getVideoProgress),this.listenTo(App.experienceController,App.experienceController.EVENT_DEATH_VIDEO_DESTROY,this.destroy),this},d.prototype.onSeek=function(a){return console.log("DeathVideoController -> onSeek : timeCode",a),null!=this.player?(this.player.seek(a),this):void 0},d.prototype.getVideoProgress=function(){return null!=this.player?(App.experienceController.trigger(App.experienceController.EVENT_SET_VIDEO_DEATH_PROGRESS,this.player.getCurrentTime()),this):void 0},d}(Application.Controller.VideoController)}),a("Application.Controller",function(a){return a.EndsController=function(){function a(){this.start=c(this.start,this),this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this);var a,b,d,e,f,g;for(_.extend(this,Backbone.Events),this.endFirstStepPageView=new Application.View.EndFirstStepPageView,this.endSecondStepPageView=new Application.View.EndSecondStepPageView,this.endThirdStepPageView=new Application.View.EndThirdStepPageView,this.endFourthStepPageView=new Application.View.EndFourthStepPageView,f=this.timecodes,a=d=0,e=f.length;e>d;a=++d)b=f[a],a&&null!=(g=this.timecodes[a])&&(g.start=this.timecodes[a-1].start+this.timecodes[a-1].duration);this.addEventListener()}return a.prototype.totalSteps=4,a.prototype.raf=null,a.prototype.startDate=null,a.prototype.timecodes=[{event:function(){return App.service.EVENT_END_SHOW_FIRST_STEP},start:0,duration:6.4,called:!1},{event:function(){return App.service.EVENT_END_SHOW_SECOND_STEP},start:null,duration:5.1,called:!1},{event:function(){return App.service.EVENT_END_SHOW_THIRD_STEP},start:null,duration:5.4,called:!1},{event:function(){return App.service.EVENT_END_SHOW_FOURTH_STEP},start:null,duration:6.9,called:!1},{event:function(){return App.service.EVENT_SHOW_SHARING},start:null,called:!1}],a.prototype.endFirstStepPageView=null,a.prototype.endSecondStepPageView=null,a.prototype.endThirdStepPageView=null,a.prototype.endFourthStepPageView=null,a.prototype.addEventListener=function(){return this.listenTo(App.service,App.service.EVENT_START_ENDS_CONTROLLER,this.start),this},a.prototype.removeEventListener=function(){return this.stopListening(App.service),this},a.prototype.start=function(){var a,b,c,d,e,f,g,h;for(null==this.startDate&&(this.startDate=Date.now()),c=Date.now(),a=(c-this.startDate)/1e3,h=this.timecodes,b=f=0,g=h.length;g>f;b=++f)e=h[b],a>=e.start&&!e.called&&(e.called=!0,App.service.trigger(e.event()));return d=$.grep(this.timecodes,function(a){return a.called===!0}),d.length===this.timecodes.length?(window.cancelAnimationFrame(this.raf),this.raf=null):this.raf=window.requestAnimationFrame(this.start),this},a}.call(this)}),a("Application.Controller",function(a){return a.ExperienceController=function(){function a(){this.removeEventListener=c(this.removeEventListener,this),this.onNext=c(this.onNext,this),this.preventDefault=c(this.preventDefault,this),this.wheel=c(this.wheel,this),this.keyup=c(this.keyup,this),this.easeScroll=c(this.easeScroll,this),this.tweenLife=c(this.tweenLife,this),this.setLife=c(this.setLife,this),this.onInjury=c(this.onInjury,this),this.onFirstScroll=c(this.onFirstScroll,this),this.onFallIntoSea=c(this.onFallIntoSea,this),this.onIsDying=c(this.onIsDying,this),this.onTired=c(this.onTired,this),this.life=c(this.life,this),this.scroll=c(this.scroll,this),this.cancelAnimationFrame=c(this.cancelAnimationFrame,this),this.onFrame=c(this.onFrame,this),this.onSubtitles=c(this.onSubtitles,this),this.onExternalEvents=c(this.onExternalEvents,this),this.animateJauge=c(this.animateJauge,this),this.animate=c(this.animate,this),this.onDrag=c(this.onDrag,this),this.onDragend=c(this.onDragend,this),this.enableAppScroll=c(this.enableAppScroll,this),this.onDeathVideoProgress=c(this.onDeathVideoProgress,this),this.onExperienceVideoProgress=c(this.onExperienceVideoProgress,this),this.onExperienceDead=c(this.onExperienceDead,this),this.resetScrollLastCall=c(this.resetScrollLastCall,this),this.start=c(this.start,this),this.addEventListener=c(this.addEventListener,this);var a,b,d,e,f;if(_.extend(this,Backbone.Events),this.experienceModel=new Application.Model.ExperienceModel,App.state.IS_TABLET)for(f=this.VIDEO_EXPERIENCE_DATA.scenes,a=d=0,e=f.length;e>d;a=++d)b=f[a],this.VIDEO_EXPERIENCE_DATA.scenes[a].tdStart=415.64+this.VIDEO_EXPERIENCE_DATA.scenes[a].dStart,this.VIDEO_EXPERIENCE_DATA.scenes[a].tdEnd=415.64+this.VIDEO_EXPERIENCE_DATA.scenes[a].dEnd;this.addEventListener()}return a.prototype.appLife=50,a.prototype.tempLife=50,a.prototype.percent=null,a.prototype.hold=!1,a.prototype.DEBUG=!0,a.prototype.RESTART_TIMECODE=46.175,a.prototype.experienceModel=null,a.prototype.EVENT_START_EXPERIENCE_CONTROLLER="EVENT_START_EXPERIENCE_CONTROLLER",a.prototype.EVENT_EXPERIENCE_DEAD="EVENT_EXPERIENCE_DEAD",a.prototype.EVENT_START_EXPERIENCE="EVENT_START_EXPERIENCE",a.prototype.EVENT_EXPERIENCE_VIDEO_DESTROY="EVENT_EXPERIENCE_VIDEO_DESTROY",a.prototype.EVENT_RETRY_EXPERIENCE="EVENT_RETRY_EXPERIENCE",a.prototype.EVENT_EXPERIENCE_SEEK="EVENT_EXPERIENCE_SEEK",a.prototype.EVENT_GET_VIDEO_EXPERIENCE_PROGRESS="EVENT_REQUEST_VIDEO_EXPERIENCE_PROGRESS",a.prototype.EVENT_SET_VIDEO_EXPERIENCE_PROGRESS="EVENT_SET_VIDEO_EXPERIENCE_PROGRESS",a.prototype.EVENT_GET_VIDEO_DEATH_PROGRESS="EVENT_GET_VIDEO_DEATH_PROGRESS",a.prototype.EVENT_SET_VIDEO_DEATH_PROGRESS="EVENT_SET_VIDEO_DEATH_PROGRESS",a.prototype.EVENT_DISPATCH_EXPERIENCE_DATAS="EVENT_DISPATCH_EXPERIENCE_DATAS",a.prototype.EVENT_DEATH_VIDEO_SEEK="EVENT_DEATH_VIDEO_SEEK",a.prototype.EVENT_DEATH_VIDEO_PLAY="EVENT_DEATH_VIDEO_PLAY",a.prototype.EVENT_DEATH_VIDEO_DESTROY="EVENT_DEATH_VIDEO_DESTROY",a.prototype.EVENT_FALL_INTO_SEA="EVENT_FALL_INTO_SEA",a.prototype.EVENT_FIRST_SCROLL="EVENT_FIRST_SCROLL",a.prototype.EVENT_IS_LAZY="EVENT_IS_LAZY",a.prototype.EVENT_IS_DYING="EVENT_IS_DYING",a.prototype.VIDEO_EXPERIENCE_DATA={externalEvents:[{timecode:50.4,event:function(){return App.experienceController.EVENT_FALL_INTO_SEA}},{timecode:64.84,power:3},{timecode:76.2,power:1},{timecode:82.4,power:1},{timecode:88.2,power:1},{timecode:103.8,power:2},{timecode:111.6,power:3},{timecode:118,power:2},{timecode:135.8,power:2},{timecode:140.6,power:1},{timecode:143.64,power:1},{timecode:152,power:1},{timecode:155.32,power:3},{timecode:176.8,power:3},{timecode:184.48,power:3},{timecode:191.2,power:2},{timecode:206.68,power:3},{timecode:223.48,power:2},{timecode:233.8,power:3},{timecode:244.72,power:1},{timecode:271.08,power:3},{timecode:278.52,power:2},{timecode:290,power:3},{timecode:304.32,power:2},{timecode:310.32,power:3},{timecode:334,power:3},{timecode:340.48,power:3},{timecode:353,power:3},{timecode:361.08,power:2},{timecode:370.48,power:1},{timecode:377,power:3},{timecode:405.28,power:3},{timecode:412.28,power:3}],scenes:[{xpStart:0,xpEnd:50.1,xpStarted:!1,xpEnded:!1,xpDead:!1,onStart:function(){return App.experienceController.EVENT_INTRO_STARTED},onEnded:function(){return App.experienceController.EVENT_INTRO_ENDED}},{xpStart:54.64,xpEnd:57.64,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:0,dEnd:34.04,dStarted:!1,dEnded:!1,tdStart:40,tdEnd:45},{xpStart:57.64,xpEnd:64.96,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:34.04,dEnd:69.88,dStarted:!1,dEnded:!1,tdStart:40,tdEnd:45},{xpStart:64.96,xpEnd:82.56,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:69.88,dEnd:103.04,dStarted:!1,dEnded:!1,tdStart:45,tdEnd:50},{xpStart:82.56,xpEnd:98.04,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:103.04,dEnd:136.4,dStarted:!1,dEnded:!1,tdStart:50,tdEnd:55},{xpStart:98.04,xpEnd:109.72,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:136.4,dEnd:162.52,dStarted:!1,dEnded:!1,tdStart:55,tdEnd:60},{xpStart:109.72,xpEnd:124.32,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:162.52,dEnd:196.28,dStarted:!1,dEnded:!1,tdStart:60,tdEnd:65},{xpStart:124.32,xpEnd:140.72,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:196.28,dEnd:229.56,dStarted:!1,dEnded:!1,tdStart:65,tdEnd:70},{xpStart:140.72,xpEnd:155.52,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:229.56,dEnd:262.84,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:155.52,xpEnd:170.16,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:262.84,dEnd:296.2,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:170.16,xpEnd:185.56,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:296.2,dEnd:322.24,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:185.56,xpEnd:206.64,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:322.24,dEnd:355.64,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:206.64,xpEnd:217.64,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:355.64,dEnd:390.64,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:217.64,xpEnd:233.8,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:390.64,dEnd:423.96,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:233.8,xpEnd:244.68,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:390.64,dEnd:423.96,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:244.68,xpEnd:261.28,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:477.56,dEnd:514.12,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:261.28,xpEnd:277,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:514.12,dEnd:550.56,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:277,xpEnd:281.56,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:550.56,dEnd:583.96,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:281.56,xpEnd:307.08,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:583.96,dEnd:618.64,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:307.08,xpEnd:321.96,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:618.64,dEnd:655.36,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:321.96,xpEnd:336.68,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:655.36,dEnd:714.64,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:336.68,xpEnd:352.8,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:714.64,dEnd:748.48,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:352.8,xpEnd:365.4,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:748.48,dEnd:809,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:365.4,xpEnd:375.24,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:809,dEnd:869.52,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:375.24,xpEnd:389.36,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:869.52,dEnd:895.16,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:389.36,xpEnd:398.96,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:895.16,dEnd:955.16,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75},{xpStart:398.96,xpEnd:411.16,xpStarted:!1,xpEnded:!1,xpDead:!1,dStart:411.16,dEnd:475.7,dStarted:!1,dEnded:!1,tdStart:70,tdEnd:75}],subtitles:[{start:11.5,end:12.699,value:"- Hey Charles!"},{start:12.7,end:13.699,value:"- Yes."},{start:15.137,end:16.462,value:"What a beautiful day!"},{start:18.35,end:21.657,value:"- How are you doing? Do you mind taking the helm for a minute? <br/>- You sure?"},{start:21.758,end:24.833,value:"- Yeah, you alright? <br/>- Yeah, fine."},{start:39.807,end:41.812,value:"- Oh no! <br/>- What?"},{start:41.913,end:44.125,value:"- What should I… <br/>- What's wrong?"},{start:44.907,end:46.082,value:"- Julien! <br/>- What?"},{start:46.182,end:47.257,value:"- Watch out!"},{start:59.657,end:62.548,value:"- Julien! <br/>- Charles! Come back!"},{start:62.648,end:63.828,value:"Come back!"},{start:72.423,end:75.157,value:"Charles! Turn right!"},{start:75.557,end:77.123,value:"Turn fucking right!"},{start:79.257,end:80.661,value:"Come back!"},{start:83.594,end:86.157,value:"Fuck… Why isn't he coming..."},{start:87.657,end:89.123,value:"Why the f…"},{start:91.49,end:93.09,value:"Charles!"},{start:102.357,end:104.023,value:"Fuck."},{start:116.748,end:118.283,value:"What the fuck is he doing?"},{start:215.265,end:217.765,value:"Shit… Shit…"},{start:218.765,end:220.585,value:"Shit!"},{start:289.685,end:290.686,value:"Oh shit…"},{start:299.485,end:301.685,value:"Fuck!"},{start:307.285,end:309.285,value:"Help!"},{start:319.585,end:322.085,value:"Fuck. Don't give up. Stay calm."},{start:356.335,end:357.335,value:"Hey!"},{start:359.21,end:360.585,value:"Help me!"},{start:368.485,end:370.279,value:"No... No!"},{start:372.647,end:374.397,value:"Why? Why..."}]},a.prototype.EVENT_INTRO_STARTED="EVENT_INTRO_STARTED",a.prototype.EVENT_INTRO_ENDED="EVENT_INTRO_ENDED",a.prototype.endsControllerStarted=!1,a.prototype.VIDEO_DEATH_END_CONTROLLER_DELAY=6.5,a.prototype.raf=null,a.prototype.now=null,a.prototype.fps=null,a.prototype.jauge=null,a.prototype.sceneIndex=0,a.prototype.sceneStartDate=null,a.prototype.frameLastCall=null,a.prototype.delta=null,a.prototype.hasScroll=!1,a.prototype.scrollCount=0,a.prototype.throttle=null,a.prototype.scrollLastCall=null,a.prototype.deltaLastScroll=null,a.prototype.scrollLimite=null,a.prototype.lazy=!1,a.prototype.debugText=null,a.prototype.canBeTired=!1,a.prototype.hasBeenTired=!1,a.prototype.deathTransitionCalled=!1,a.prototype.distance=0,a.prototype.polarity={x:null,y:null},a.prototype.lastPoint={x:null,y:null},a.prototype.dragRatio=150,a.prototype.addEventListener=function(){var a=this;return this.listenTo(this,"all",function(b){var c;return c=["EVENT_REQUEST_VIDEO_EXPERIENCE_PROGRESS","EVENT_SET_VIDEO_EXPERIENCE_PROGRESS","EVENT_SET_VIDEO_DEATH_PROGRESS","EVENT_GET_VIDEO_DEATH_PROGRESS","EVENT_IS_LAZY"],f.call(c,b)>=0?void 0:a.DEBUG?console.log("ExperienceController EVENT : ",b):void 0}),this.listenToOnce(this,this.EVENT_START_EXPERIENCE_CONTROLLER,this.start),this.listenTo(this,this.EVENT_RETRY_EXPERIENCE,this.onRetryExperience),this.listenTo(this,this.EVENT_SET_VIDEO_EXPERIENCE_PROGRESS,this.onExperienceVideoProgress),this.listenTo(this,this.EVENT_SET_VIDEO_DEATH_PROGRESS,this.onDeathVideoProgress),this.listenTo(this,this.EVENT_EXPERIENCE_DEAD,this.onExperienceDead),this.listenTo(this,this.EVENT_IS_DYING,this.onIsDying),this.listenToOnce(App.service,App.service.EVENT_SHOW_SHARING,this.enable_scroll),this.listenToOnce(App.service,App.service.EVENT_SKIP_INTRO,function(){return a.trigger(a.EVENT_EXPERIENCE_SEEK,a.RESTART_TIMECODE,!0)}),this.listenTo(App.service,App.service.EVENT_PLAY_REQUEST,this.resetScrollLastCall),this.listenTo(App.service,App.service.EVENT_VIDEO_PLAYING,this.resetScrollLastCall),this.listenToOnce(App.service,this.EVENT_FALL_INTO_SEA,function(){return App.service.trigger(App.service.EVENT_SHOW_TUTORIAL),App.service.trigger(App.service.EVENT_SHADER_SWITCH_TIME_DISTORTION),a.onFallIntoSea(),a.enableAppScroll()}),this.listenToOnce(this,this.EVENT_FIRST_SCROLL,this.onFirstScroll)},a.prototype.start=function(){var a;return $("#next").on("click",this.onNext),$(window).trigger("resize"),this.disable_scroll(),this.debugText={},App.config.DEBUG&&(a=$("#debug"),this.debugText.r_life=a.find(".r-life"),this.debugText.r_scroll=a.find(".r-scroll"),this.debugText.appLife=a.find(".appLife"),this.debugText.sceneIndex=a.find(".sceneIndex"),this.debugText.multiplicator=a.find(".multiplicator"),this.debugText.lazy=a.find(".lazy"),this.debugText.time_left=a.find(".time-left"),this.debugText.progress=a.find(".progress"),this.debugText.deathProgress=a.find(".deathProgress"),this.debugText.scenes=$("#scenes")),this.jauge=new Application.Object.Jauge,window.requestAnimationFrame(this.animate),this.trigger(this.EVENT_START_EXPERIENCE)},a.prototype.resetScrollLastCall=function(){return this.scrollLastCall=null},a.prototype.onExperienceDead=function(){return this.experienceModel.set({isDying:!0})},a.prototype.onExperienceVideoProgress=function(a){var b;return this.experienceModel.set({progress:a}),null!=(null!=(b=this.debugText)?b.progress:void 0)?this.debugText.progress.text(a):void 0},a.prototype.onDeathVideoProgress=function(a){var b;return this.experienceModel.set({deathProgress:a}),null!=(null!=(b=this.debugText)?b.deathProgress:void 0)?this.debugText.deathProgress.text(a):void 0},a.prototype.enableAppScroll=function(){return this.throttle=_.throttle(this.scroll,250),$(document).on("mousewheel",this.throttle),$(document).on("keyup",this.keyup),Hammer(document).on("swipeup",this.scroll),Hammer(document).on("swipedown",this.scroll),Hammer(document).on("drag",this.onDrag),Hammer(document).on("dragend",this.onDragend)},a.prototype.onDragend=function(){return console.log("onDragend"),this.polarity={x:null,y:null},this.lastPoint={x:null,y:null}},a.prototype.onDrag=function(a){var b,c,d;if(null!=a)return c={x:a.gesture.center.pageX,y:a.gesture.center.pageY},(null==this.lastPoint.x||null==this.lastPoint.y)&&(console.log("lastPoint not defined"),this.lastPoint.x=c.x,this.lastPoint.y=c.y),d={x:c.x-this.lastPoint.x>0?1:-1,y:c.y-this.lastPoint.y>0?1:-1},(null==this.polarity.x||null==this.polarity.y)&&(this.polarity.x=d.x,this.polarity.y=d.y),(d.x!==this.polarity.x||d.y!==this.polarity.y)&&(b=Math.sqrt(Math.pow(this.lastPoint.x-c.x,2)+Math.pow(this.lastPoint.y-c.y,2)),this.lastPoint.x=c.x,this.lastPoint.y=c.y,this.distance+=b),this.polarity.x=d.x,this.polarity.y=d.y,this.distance>=this.dragRatio?(this.distance-=this.dragRatio,this.scroll(a)):void 0},a.prototype.animate=function(a){var b,c,d,e,f,g,h,i,j,k,l;if(this.raf=window.requestAnimationFrame(this.animate),this.now=a,this.onFrame(),this.tweenLife(),e=this.experienceModel.get("isDead"),g=this.experienceModel.get("progress"),j=this.experienceModel.get("state"),f=this.experienceModel.get("isDying"),this.onExternalEvents(g),e){if(h=this.VIDEO_EXPERIENCE_DATA.scenes[j],App.state.IS_DESKTOP&&26!==j?(this.trigger(this.EVENT_GET_VIDEO_DEATH_PROGRESS),b=this.experienceModel.get("deathProgress")):(App.state.IS_TABLET||26===j)&&(this.trigger(this.EVENT_GET_VIDEO_EXPERIENCE_PROGRESS),b=this.experienceModel.get("progress")),null==h)return console.log("Death scene selection Error");App.state.IS_DESKTOP?(i=h.dStart,d=h.dEnd):App.state.IS_TABLET&&(i=h.tdStart,d=h.tdEnd),b>=i&&d>b?b>=d-this.VIDEO_DEATH_END_CONTROLLER_DELAY&&(this.endsControllerStarted||(console.log("unless @endsControllerStarted"),this.endsControllerStarted=!0,App.service.trigger(App.service.EVENT_START_ENDS_CONTROLLER))):b>d-(App.state.IS_DESKTOP?.1:.2)&&(App.state.IS_DESKTOP?this.trigger(this.EVENT_DEATH_VIDEO_DESTROY):App.state.IS_TABLET&&this.trigger(this.EVENT_EXPERIENCE_VIDEO_DESTROY),this.cancelAnimationFrame())}else{if(this.trigger(this.EVENT_GET_VIDEO_EXPERIENCE_PROGRESS),App.config.LANGUAGE_EN&&this.onSubtitles(g),h=this.VIDEO_EXPERIENCE_DATA.scenes[this.sceneIndex],null!=(null!=(k=this.debugText)?k.scenes:void 0)&&this.debugText.scenes.text(this.sceneIndex),null==h)return console.log("Scene selection Error : @sceneIndex ",this.sceneIndex);h.xpStart<=g&&g<h.xpEnd&&(this.experienceModel.set({state:this.sceneIndex}),h.xpStarted||(console.log("scene : ",h,"  -  index : ",this.sceneIndex),h.xpStarted=!0,this.sceneStartDate=null,this.scrollCount=0,this.sceneIndex&&App.state.IS_DESKTOP&&this.trigger(this.EVENT_DEATH_VIDEO_SEEK,h.dStart),null==h.onStart||this.sceneIndex||this.trigger(h.onStart())),null!=(null!=(l=this.debugText)?l.time_left:void 0)&&this.debugText.time_left.text(h.xpEnd-g),f&&!h.xpDead?(h.xpDead=!0,c=h.xpEnd-g,console.log("if App.state.IS_TABLET and not @deathTransitionCalled",App.state.IS_TABLET,this.deathTransitionCalled),App.state.IS_TABLET&&!this.deathTransitionCalled&&(this.deathTransitionCalled=!0,console.log("@deathTransitionCalled"),App.service.trigger(App.service.EVENT_SHOW_DEATH_TRANSITION,c)),this.trigger(this.EVENT_IS_DYING,1)):this.hasScroll&&!f&&this.life(a)),g>h.xpEnd&&!h.xpEnded&&(null==h.onEnded||this.sceneIndex||this.trigger(h.onEnded()),h.xpEnded=!0,h.xpDead?(26!==this.sceneIndex&&(App.state.IS_DESKTOP?(this.trigger(this.EVENT_EXPERIENCE_VIDEO_DESTROY),this.trigger(this.EVENT_DEATH_VIDEO_PLAY)):App.state.IS_TABLET&&this.trigger(this.EVENT_EXPERIENCE_SEEK,h.tdStart,!0,!0)),this.experienceModel.set({isDead:!0}),App.service.trigger(App.service.EVENT_SUBTITLE_KILL),console.log("End of scene ::: DEATH")):this.sceneIndex<26?this.sceneIndex++:this.sceneIndex=26),this.sceneIndex&&(this.percent=(g-this.VIDEO_EXPERIENCE_DATA.scenes[0].xpEnd)/(App.config.EXPERIENCE_VIDEO_DURATION-this.VIDEO_EXPERIENCE_DATA.scenes[0].xpEnd))}return this.animateJauge()},a.prototype.animateJauge=function(){var a;if(!(null==this.jauge&&!App.state.HOLD||App.state.IS_TABLET&&App.state.VIDEO_PAUSED))return a={appLife:this.appLife,percent:this.percent||0},this.jauge.animate(this.now,a)},a.prototype.onExternalEvents=function(a){var b,c,d;for(c=this.VIDEO_EXPERIENCE_DATA.externalEvents.length,d=[];c--;)b=this.VIDEO_EXPERIENCE_DATA.externalEvents[c],a>b.timecode?(null==b.event?this.onInjury(b.power):App.service.trigger(b.event()),d.push(this.VIDEO_EXPERIENCE_DATA.externalEvents.splice(c,1))):d.push(void 0);return d},a.prototype.onSubtitles=function(a){var b,c;for(b=this.VIDEO_EXPERIENCE_DATA.subtitles.length;b--;){if(c=this.VIDEO_EXPERIENCE_DATA.subtitles[b],null==c)return;if(a>=c.start&&a<=c.end){if(!c.displayed){c.displayed=!0,App.service.trigger(App.service.EVENT_SUBTITLE_UPDATE,c.value);continue}}else a>c.end&&(App.service.trigger(App.service.EVENT_SUBTITLE_UPDATE),this.VIDEO_EXPERIENCE_DATA.subtitles.splice(b,1))}},a.prototype.onFrame=function(){return null==this.frameLastCall&&(this.frameLastCall=this.now),this.delta=(this.now-this.frameLastCall)/1e3,this.fps=1/this.delta,this.frameLastCall=this.now},a.prototype.cancelAnimationFrame=function(){return null!=this.raf&&window.cancelAnimationFrame(this.raf),this.raf=null},a.prototype.scroll=function(a){var b,c;if(!this.experienceModel.get("isDying")&&null!=this.now&&null!=a&&!App.state.HOLD)return a.preventDefault(),this.scrollCount++,null==this.scrollLastCall&&(this.scrollLastCall=this.now),this.experienceModel.set({lastScroll:this.experienceModel.get("progress")}),b=this.easeScroll(this.sceneIndex/26,5,-4,1),null!=(null!=(c=this.debugText)?c.r_scroll:void 0)&&this.debugText.r_scroll.text("r-scroll : "+b),this.setLife(b),this.scrollLastCall=this.now},a.prototype.life=function(a){var b,c,d,e;if(!(App.state.HOLD||App.state.IS_TABLET&&App.state.VIDEO_PAUSED))return null==this.sceneStartDate&&(this.sceneStartDate=a),null==this.scrollLastCall&&(this.scrollLastCall=a),this.deltaLastScroll=(a-this.scrollLastCall)/1e3,this.multiplicator=(1+.16*this.sceneIndex*this.deltaLastScroll*.5)*this.deltaLastScroll,this.onTired(),b=this.easeLife(this.sceneIndex/26,.25,2.25,1)/this.fps*4,this.deltaLastScroll>1.5||this.sceneIndex>(App.state.IS_DESKTOP?25:24)?(this.lazy||(this.tempLife-=20),this.lazy=!0,b*=this.multiplicator,null!=(null!=(c=this.debugText)?c.multiplicator:void 0)&&this.debugText.multiplicator.text("multiplicator : "+this.multiplicator),this.trigger(this.EVENT_IS_LAZY)):this.lazy=!1,this.sceneIndex>25&&-(b=.8),null!=(null!=(d=this.debugText)?d.lazy:void 0)&&this.debugText.lazy.text("lazy : "+this.lazy),this.setLife(-b),null!=(null!=(e=this.debugText)?e.r_life:void 0)?this.debugText.r_life.text("r-life : "+b):void 0},a.prototype.onTired=function(){return this.canBeTired?this.deltaLastScroll>2&&!this.experienceModel.get("isDying")&&!this.hasBeenTired?(this.hasBeenTired=!0,App.service.trigger(App.service.EVENT_SHOW_TIRED)):this.deltaLastScroll<2&&this.hasBeenTired?(App.service.trigger(App.service.EVENT_HIDE_TIRED),this.canBeTired=!1):void 0:void 0},a.prototype.onIsDying=function(a){var b,c=this;return console.log("onIsDying : ",a),this.hold=!0,b=function(){return _.delay(function(){return console.log("delay delete jauge"),null!=c.jauge?delete c.jauge:void 0},1e3)},TweenMax.killTweensOf(this,{tempLife:!0}),TweenMax.to(this,a,{tempLife:0,onComplete:b})},a.prototype.onFallIntoSea=function(){var a,b=this;return console.log("ExperienceController onFallIntoSea"),a=function(){return b.scrollCount&&!b.hasScroll?(console.log("ExperienceController onUpdate"),b.hasScroll=!0,b.trigger(b.EVENT_FIRST_SCROLL)):void 0},TweenMax.killTweensOf(this,{tempLife:!0}),TweenMax.to(this,8,{tempLife:19,onUpdate:a})},a.prototype.onFirstScroll=function(){var a=this;return console.log("ExperienceController onFirstScroll"),TweenMax.killTweensOf(this,{tempLife:!0}),this.tempLife+=15,this.experienceModel.set({firstScroll:this.experienceModel.get("progress")}),this.canBeTired=!0,_.delay(function(){return console.log("@tempLife-=7.5"),a.tempLife-=7.5},750)},a.prototype.onInjury=function(a){return null==a&&(a=1),this.hold?void 0:(console.log("onInjury POWER  : ",a),this.tempLife=this.tempLife-10*a>15?this.tempLife-10*a:15,App.service.trigger(App.service.EVENT_HAS_INJURY,a))},a.prototype.setLife=function(a){return null==a&&(a=0),this.hold?void 0:(a=Math.round(100*a)/100,this.tempLife=this.tempLife+a)},a.prototype.tweenLife=function(){var a;return this.tempLife<0?this.tempLife=0:this.tempLife>100&&(this.tempLife=100),TweenMax.killTweensOf(this,{appLife:!0}),TweenMax.to(this,.01,{appLife:this.tempLife}),this.experienceModel.set({life:this.appLife}),null!=(null!=(a=this.debugText)?a.appLife:void 0)?this.debugText.appLife.text("tempLife : "+this.tempLife):void 0},a.prototype.easeScroll=function(a,b,c,d){var e,f;return f=(a/=d)*a,e=f*a,b+c*(2.6*e*f+-9*f*f+14.9*e+-11.6*f+4.1*a)},a.prototype.easeLife=function(a,b,c,d){var e,f;return f=(a/=d)*a,e=f*a,b+c*(6*e*f+-15*f*f+10*e)},a.prototype.keyup=function(a){var b,c;for(a.preventDefault(),c=[38,40],b=c.length;b--;)if(a.keyCode===c[b])return this.scroll(a)},a.prototype.wheel=function(a){this.preventDefault(a)},a.prototype.preventDefault=function(a){var b;return b=a||window.event,b.preventDefault&&b.preventDefault(),b.returnValue=!1},a.prototype.disable_scroll=function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",this.wheel,!1),window.onmousewheel=document.onmousewheel=this.wheel,document.onkeyup=this.wheel},a.prototype.enable_scroll=function(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",this.wheel,!1),window.onmousewheel=document.onmousewheel=document.onkeyup=null},a.prototype.onNext=function(a){var b;if(null!=a)return a.preventDefault(),b=this.VIDEO_EXPERIENCE_DATA.scenes[this.sceneIndex+4].xpStart,console.log("timecode : ",b),this.trigger(this.EVENT_EXPERIENCE_SEEK,b,!0),this
},a.prototype.removeEventListener=function(){return this.stopListening(App.service),this.stopListening(this),$(document).off("mousewheel",this.throttle),Hammer(document).off("swipeup",this.scroll),Hammer(document).off("swipedown",this.scroll),Hammer(document).off("drag",this.onDrag),Hammer(document).off("dragend",this.onDragend)},a}.call(this)}),a("Application.Controller",function(a){var b;return a.ExperienceVideoController=function(a){function d(){return this.fadeOut=c(this.fadeOut,this),this.fadeIn=c(this.fadeIn,this),this.getVideoProgress=c(this.getVideoProgress,this),this.onSeek=c(this.onSeek,this),this.tabletPlay=c(this.tabletPlay,this),this.initTabletPlayLoop=c(this.initTabletPlayLoop,this),this.addEventListener=c(this.addEventListener,this),b=d.__super__.constructor.apply(this,arguments)}return e(d,a),d.prototype.el="experience-container",d.prototype.isExperience=!0,d.prototype.videoName=null,d.prototype.initTimecode=8,d.prototype.tabletPlayLoop=null,d.prototype.status=!0,d.prototype.deathTabletLauched=!1,d.prototype.deathTabletTimecode=0,d.prototype.initialize=function(){return console.log("ExperienceVideoController :: initialize"),this.videoName=App.config.EXPERIENCE_VIDEO_NAME,this.listenToOnce(App.service,App.service.EVENT_EXPERIENCE_VIDEO_SUCCESS,this.onSuccess),this.init(),this},d.prototype.addEventListener=function(){var a=this;return console.log("ExperienceVideoController :: addEventListener"),d.__super__.addEventListener.apply(this,arguments),this.listenTo(App.experienceController,App.experienceController.EVENT_START_EXPERIENCE,this.start),this.listenTo(App.experienceController,App.experienceController.EVENT_EXPERIENCE_SEEK,this.onSeek),this.listenTo(App.experienceController,App.experienceController.EVENT_EXPERIENCE_VIDEO_DESTROY,this.destroy),this.listenTo(App.experienceController,App.experienceController.EVENT_GET_VIDEO_EXPERIENCE_PROGRESS,this.getVideoProgress),this.listenTo(App.service,App.service.EVENT_CLICK_START_EXPERIENCE,this.initVideo),App.state.IS_TABLET&&(this.listenTo(App.service,App.service.EVENT_SHOW_DEATH_TRANSITION,this.fadeOut),this.listenTo(App.service,App.service.EVENT_HIDE_DEATH_TRANSITION,this.fadeIn),this.listenToOnce(App.experienceController,App.experienceController.EVENT_START_EXPERIENCE_CONTROLLER,function(){return a.initTabletPlayLoop(),Hammer(document).on("tap",a.tabletPlay)})),this},d.prototype.initTabletPlayLoop=function(){return this.tabletPlayLoop=window.setInterval(this.tabletPlay,250),this},d.prototype.tabletPlay=function(){return null!=this.player&&this.status?(this.player.tabletPlayRequest(),this):void 0},d.prototype.onSeek=function(a,b,c){return null==a&&(a=.1),null==b&&(b=!1),null==c&&(c=!1),null!=this.player?(c&&(this.deathTabletTimecode=a+1,this.deathTabletLauched=!0),this.player.seek(a,b,c),this):void 0},d.prototype.getVideoProgress=function(){return null!=this.player?(App.experienceController.trigger(App.experienceController.EVENT_SET_VIDEO_EXPERIENCE_PROGRESS,this.player.getCurrentTime()),this.deathTabletLauched&&this.player.getCurrentTime()>this.deathTabletTimecode&&(this.deathTabletLauched=!1,this.fadeIn()),this):void 0},d.prototype.fadeIn=function(){var a,b=this;if(!this.status)return console.log("FAEIN ::: ",this),this.status=!0,TweenMax.killTweensOf(this.$el),a={opacity:1,onComplete:function(){return console.log("FAEIN ::: complete ",b),App.service.trigger(App.service.EVENT_DEATH_TRANSITION_SHOWN)}},TweenMax.to(this.$el,2,a)},d.prototype.fadeOut=function(a){var b,c,d,e=this;if(this.status)return this.status=!1,1>a?(c=a,b=0):(c=1,b=a-1),console.log("FADEOUT ::: ",a,b,c),TweenMax.killTweensOf(this.$el),d={opacity:0,delay:b,onComplete:function(){return console.log("FADEOUT ::: complete ",e),App.service.trigger(App.service.EVENT_DEATH_TRANSITION_HIDDEN)}},TweenMax.to(this.$el,c,d)},d}(Application.Controller.VideoController)}),a("Application",function(a){return a.MediaElementController=function(){function a(a){this.onError=c(this.onError,this),this.onEnded=c(this.onEnded,this),this.resize=c(this.resize,this),this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.onPauseEvent=c(this.onPauseEvent,this),this.onPlayEvent=c(this.onPlayEvent,this),this.tabletPlayRequest=c(this.tabletPlayRequest,this),this.destroy=c(this.destroy,this),this.show=c(this.show,this),this.unmute=c(this.unmute,this),this.mute=c(this.mute,this),this.onSwitchVolume=c(this.onSwitchVolume,this),this.getDuration=c(this.getDuration,this),this.getState=c(this.getState,this),this.getCurrentTime=c(this.getCurrentTime,this),this.pause=c(this.pause,this),this.play=c(this.play,this),this.seek=c(this.seek,this),this.onCanPlay=c(this.onCanPlay,this),this.initSeekDone=c(this.initSeekDone,this),this.initVideoSeek=c(this.initVideoSeek,this),this.initVideo=c(this.initVideo,this),this.start=c(this.start,this),this.onSuccess=c(this.onSuccess,this),this.init=c(this.init,this);var b,d;if(_.extend(this,Backbone.Events),this.listenTo(this,"all",function(){return console.log("MediaElement :: EVENT TRIGGERED : ",arguments)}),null!=a)for(b in a)d=a[b],this[b]=d;return this.options=a||{},this.$el=$("#"+this.el),this.init(),this}return a.prototype.el=null,a.prototype.$el=null,a.prototype.player=null,a.prototype.mediaElement=null,a.prototype.video=null,a.prototype.isExperience=null,a.prototype.isDeath=null,a.prototype.debounce=null,a.prototype.initTimeCode=null,a.prototype.WIDTH=640,a.prototype.HEIGHT=360,a.prototype.init=function(){return this.$el.find("#videoPreventActions").click(function(a){return a.preventDefault()}),this.player=new MediaElementPlayer(this.$el.find("video"),{enablePluginDebug:!1,defaultVideoWidth:1080,defaultVideoHeight:720,pluginWidth:-1,pluginHeight:-1,features:[],plugins:[],alwaysShowControls:!1,enableKeyboard:!1,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,timerRate:100,startVolume:0,pauseOtherPlayers:!1,success:this.onSuccess,error:this.onError}),this},a.prototype.onSuccess=function(a,b){return console.log("MediaElement :: onSuccess"),this.video=b,this.mediaElement=a,this.pause(),this.addEventListener(),this.resize(),this},a.prototype.start=function(){return this.isExperience?(console.log("MediaElement :: isExperience",this.isExperience),App.service.trigger(App.service.EVENT_EXPERIENCE_VIDEO_SUCCESS)):this.isDeath&&(console.log("MediaElement :: isDeath",this.isDeath),App.service.trigger(App.service.EVENT_DEATH_VIDEO_SUCCESS)),this},a.prototype.initVideo=function(a){return null==a&&(a=.1),null!=this.mediaElement?(console.log("MediaElement :: initVideo",a),this.initTimeCode=a,this.mediaElement.addEventListener("canplaythrough",this.initVideoSeek,!1),this.mediaElement.addEventListener("canplay",this.initVideoSeek,!1),this.mediaElement.addEventListener("load",this.initVideoSeek,!1),this.play(),this.mute(),this):void 0},a.prototype.initVideoSeek=function(){var a=this;return console.log("initVideoSeek"),this.mediaElement.removeEventListener("canplaythrough",this.initVideoSeek,!1),this.mediaElement.removeEventListener("load",this.initVideoSeek,!1),this.mediaElement.removeEventListener("canplay",this.initVideoSeek,!1),this.pause(),this.mediaElement.addEventListener("seeked",this.initSeekDone,!1),null!=this.initTimeCode&&(console.log("timecode defined"),App.state.IS_DESKTOP?this.mediaElement.setCurrentTime(this.initTimeCode):App.state.IS_TABLET&&_.delay(function(){return a.mediaElement.setCurrentTime(a.initTimeCode)},1e3)),this},a.prototype.initSeekDone=function(){return console.log("MediaElement initSeekDone : "),this.mediaElement.removeEventListener("seeked",this.initSeekDone,!1),this.play(),4!==this.video.readyState?(console.log("if @video.readyState isnt 4"),this.mediaElement.addEventListener("canplaythrough",this.onCanPlay,!1),this.mediaElement.addEventListener("load",this.onCanPlay,!1),this.mediaElement.addEventListener("canplay",this.onCanPlay,!1),this.mediaElement.addEventListener("playing",this.onCanPlay,!1)):(console.log("else"),this.pause(),App.config.EXPERIENCE_VIDEO_DURATION=this.getDuration(),this.isExperience&&App.service.trigger(App.service.EVENT_EXPERIENCE_VIDEO_READY)),this},a.prototype.onCanPlay=function(){return console.log("onCanPlay"),this.pause(),this.mediaElement.removeEventListener("playing",this.onCanPlay,!1),this.mediaElement.removeEventListener("canplaythrough",this.onCanPlay,!1),this.mediaElement.removeEventListener("load",this.onCanPlay,!1),this.mediaElement.removeEventListener("canplay",this.onCanPlay,!1),this.isExperience&&App.service.trigger(App.service.EVENT_EXPERIENCE_VIDEO_READY),this},a.prototype.seek=function(a,b,c){var d,e=this;return null==a&&(a=0),null==b&&(b=!1),null==c&&(c=!1),null!=this.mediaElement?(console.log("MediaElement seek : ",arguments),d=function(){var a;return console.log("MediaElement seekedDone [play] : ",arguments),c?(e.pause(),a=function(){return e.mediaElement.removeEventListener("playing",a,!1)},e.mediaElement.addEventListener("playing",a,!1),e.play()):b?e.play():e.pause(),e.mediaElement.removeEventListener("seeked",d,!1)},this.mediaElement.addEventListener("seeked",d,!1),this.mediaElement.setCurrentTime(a),this):void 0},a.prototype.play=function(a){return null==a&&(a=!1),null!=this.mediaElement?(console.log("MediaElement :: play",this,arguments),a&&this.unmute(),App.config.SOUND||this.mute(),this.mediaElement.play(),this):void 0},a.prototype.pause=function(){return null!=this.mediaElement?(this.mediaElement.pause(),this):void 0},a.prototype.getCurrentTime=function(){return null!=this.mediaElement?this.mediaElement.currentTime:void 0},a.prototype.getState=function(){return null!=this.mediaElement?this.mediaElement.getPlayerState():void 0},a.prototype.getDuration=function(){return null!=this.mediaElement?this.mediaElement.duration:void 0},a.prototype.onSwitchVolume=function(){var a;if(this.mediaElement)return a=this.mediaElement.muted?!1:!0,this.mediaElement.setMuted(a),App.service.trigger(App.service.EVENT_VOLUME_SWITCHED,a),this},a.prototype.mute=function(){return null!=this.mediaElement?(this.mediaElement.setVolume(0),this):void 0},a.prototype.unmute=function(){return null!=this.mediaElement?(this.mediaElement.setVolume(1),this):void 0},a.prototype.show=function(){return this.$el.show(),this},a.prototype.destroy=function(){return this.removeEventListener(),this},a.prototype.tabletPlayRequest=function(){var a;if(!App.state.HOLD&&(null!=(a=this.mediaElement)?a.paused:void 0))return console.log("tabletPlayRequest"),this.play(),this},a.prototype.onPlayEvent=function(){return App.service.trigger(App.service.EVENT_VIDEO_PLAYING),this},a.prototype.onPauseEvent=function(){return App.service.trigger(App.service.EVENT_VIDEO_PAUSED),this},a.prototype.addEventListener=function(){var a=this;return this.listenTo(App.service,App.service.EVENT_SWITCH_VOLUME,this.onSwitchVolume),this.debounce=_.debounce(function(){return a.resize()},250),$(window).on("resize",this.debounce),this.mediaElement.addEventListener("ended",this.onEnded),App.state.IS_TABLET&&(this.mediaElement.addEventListener("play",this.onPlayEvent,!1),this.mediaElement.addEventListener("pause",this.onPauseEvent,!1)),this},a.prototype.removeEventListener=function(){return this.mediaElement.removeEventListener("ended",this.onEnded),this.mediaElement.removeEventListener("onStateChange",this.onStateChange),this.mediaElement.removeEventListener("onError",this.onError),this.stopListening(App.service),$(window).off("resize",this.debounce),Hammer(document).off("tap",this.onTap),this},a.prototype.resize=function(){var a,b,c;return console.log("resize"),c=$(window).width(),b=$(window).height(),a=b/this.HEIGHT,this.WIDTH*a<c&&(a=c/this.WIDTH),this.$el.width(this.WIDTH*a).height(this.HEIGHT*a),this},a.prototype.onEnded=function(){return console.log("MediaElement -> onEnded"),null!=this.mediaElement?(this.mediaElement.stop(),this):void 0},a.prototype.onError=function(){throw new Error("MediaElement :: onError",arguments)},a}()}),a("Application.Controller",function(a){return a.ShaderController=function(a){function b(a){var b,d;if(null==a&&(a=null),this.cancelAnimationFrame=c(this.cancelAnimationFrame,this),this.setOptions=c(this.setOptions,this),this.resize=c(this.resize,this),this.onSwitchTimeDistortion=c(this.onSwitchTimeDistortion,this),this.removeEventListener=c(this.removeEventListener,this),this.addEventListener=c(this.addEventListener,this),this.animate=c(this.animate,this),this.render=c(this.render,this),this.updateTexture=c(this.updateTexture,this),this.test=c(this.test,this),this.initialize=c(this.initialize,this),null!=a)for(b in a)d=a[b],this[b]=d;this.options=a||{},null==this.HEIGHT&&(this.WIDTH=App.config.VIDEO_WIDTH),null==this.HEIGHT&&(this.HEIGHT=App.config.VIDEO_HEIGHT),this.initialize()}return e(b,a),b.prototype.el=null,b.prototype.$el=null,b.prototype.wrapper=null,b.prototype.debounce=null,b.prototype.canvas=null,b.prototype.context=null,b.prototype.camera=null,b.prototype.renderer=null,b.prototype.scene=null,b.prototype.composer=null,b.prototype.texture=null,b.prototype.material=null,b.prototype.plane=null,b.prototype.mesh=null,b.prototype.horizontalBlurPass=null,b.prototype.verticalBlurPass=null,b.prototype.brightnessContrastPass=null,b.prototype.blueSaturationPass=null,b.prototype.vignettePass=null,b.prototype.blobPass=null,b.prototype.effect=null,b.prototype.WIDTH=null,b.prototype.HEIGHT=null,b.prototype.DEFAULT_CAMERA_Z_POSITION=1200,b.prototype.CAMERA_Z_POSITION=856,b.prototype.DEFAULT_HORIZONTAL_BLUR_VALUE=0,b.prototype.HORIZONTAL_BLUR_VALUE=.004,b.prototype.DEFAULT_VERTICAL_BLUR_VALUE=0,b.prototype.VERTICAL_BLUR_VALUE=.0042,b.prototype.DEFAULT_CONTRAST_VALUE=0,b.prototype.CONTRAST_VALUE=.41,b.prototype.DEFAULT_BRIGHTNESS_VALUE=0,b.prototype.BRIGHTNESS_VALUE=-.0895,b.prototype.OPACITY_VALUE=0,b.prototype.DEFAULT_BLUE_SATURATION_VALUE=0,b.prototype.BLUE_SATURATION_VALUE=.04,b.prototype.DEFAULT_OFFSET=1,b.prototype.OFFSET=1.2,b.prototype.DEFAULT_DARKNESS=1,b.prototype.DARKNESS=1.3,b.prototype.TIME_DISTORTION=.007,b.prototype.raf=null,b.prototype.initialize=function(){var a;return a="shader-container",this.wrapper=document.getElementById(a),this.$wrapper=$("#"+a),this.el=document.createElement("div"),this.wrapper.appendChild(this.el),this.camera=new THREE.PerspectiveCamera(45,this.WIDTH/this.HEIGHT,1,1e4),this.camera.position.z=this.CAMERA_Z_POSITION,this.scene=new THREE.Scene,this.renderer=new THREE.WebGLRenderer({alpha:!0}),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.el.appendChild(this.renderer.domElement),this.el.style.position="absolute",this.el.style.top="0px",this.canvas=document.createElement("canvas"),this.canvas.width=this.WIDTH,this.canvas.height=this.HEIGHT,this.context=this.canvas.getContext("2d"),this.context.fillStyle="#000000",this.context.fillRect(0,0,this.WIDTH,this.HEIGHT),this.texture=new THREE.Texture(this.canvas),this.texture.minFilter=THREE.LinearFilter,this.texture.magFilter=THREE.LinearFilter,this.material=new THREE.MeshBasicMaterial({map:this.texture}),this.plane=new THREE.PlaneGeometry(this.WIDTH,this.HEIGHT,1,1),this.mesh=new THREE.Mesh(this.plane,this.material),this.scene.add(this.mesh),this.composer=new THREE.EffectComposer(this.renderer),this.horizontalBlurPass=new THREE.ShaderPass(new Application.Shader.HorizontalBlurShader),this.horizontalBlurPass.uniforms.h.value=this.HORIZONTAL_BLUR_VALUE,this.verticalBlurPass=new THREE.ShaderPass(new Application.Shader.VerticalBlurShader),this.verticalBlurPass.uniforms.v.value=this.VERTICAL_BLUR_VALUE,this.brightnessContrastPass=new THREE.ShaderPass(new Application.Shader.BrightnessContrastShader),this.brightnessContrastPass.uniforms.contrast.value=this.CONTRAST_VALUE,this.brightnessContrastPass.uniforms.brightness.value=this.BRIGHTNESS_VALUE,this.blueSaturationPass=new THREE.ShaderPass(new Application.Shader.BlueSaturationShader),this.blueSaturationPass.uniforms.blueSaturation.value=this.BLUE_SATURATION_VALUE,this.vignettePass=new THREE.ShaderPass(new Application.Shader.VignetteShader),this.vignettePass.uniforms.offset.value=this.OFFSET,this.vignettePass.uniforms.darkness.value=this.DARKNESS,this.blobPass=new THREE.ShaderPass(new Application.Shader.BlobShader),this.blobPass.uniforms.aspect.value.x=window.innerWidth,this.blobPass.uniforms.aspect.value.y=window.innerHeight,this.blobPass.uniforms.time.value=1,this.effect=new THREE.ShaderPass(new Application.Shader.CopyShader),this.effect.uniforms.opacity.value=this.OPACITY_VALUE,this.effect.renderToScreen=!0,this.composer.addPass(new THREE.RenderPass(this.scene,this.camera)),this.composer.addPass(this.horizontalBlurPass),this.composer.addPass(this.verticalBlurPass),this.composer.addPass(this.brightnessContrastPass),this.composer.addPass(this.blueSaturationPass),this.composer.addPass(this.vignettePass),this.composer.addPass(this.blobPass),this.composer.addPass(this.effect),this.setOptions(),this.addEventListener(),this.renderer.context.getProgramInfoLog=function(){return""},this.composer.render()},b.prototype.test=function(){return App.view.controllers.experienceVideoController.player.pause(),this.element=$("#experience-container").find("video").get(0),this.updateTexture(this.element),this.render()},b.prototype.updateTexture=function(a,b,c){return null==a&&(a=null),null==b&&(b=this.WIDTH),null==c&&(c=this.HEIGHT),this.context.clearRect(0,0,a.width,a.height,b,c),this.context.drawImage(a,0,0),this.texture.needsUpdate=!0},b.prototype.render=function(){return this.raf=window.requestAnimationFrame(this.render),this.blobPass.uniforms.time.value+=this.TIME_DISTORTION,this.composer.render()},b.prototype.animate=function(a,b){var c,d,e,f=this;return null==a&&(a=!0),null==b&&(b=null),e=function(a){return f.horizontalBlurPass.uniforms.h.value=f.DEFAULT_HORIZONTAL_BLUR_VALUE+(f.HORIZONTAL_BLUR_VALUE-f.DEFAULT_HORIZONTAL_BLUR_VALUE)*a,f.verticalBlurPass.uniforms.v.value=f.DEFAULT_VERTICAL_BLUR_VALUE+(f.VERTICAL_BLUR_VALUE-f.DEFAULT_VERTICAL_BLUR_VALUE)*a,f.brightnessContrastPass.uniforms.contrast.value=f.DEFAULT_CONTRAST_VALUE+(f.CONTRAST_VALUE-f.DEFAULT_CONTRAST_VALUE)*a,f.brightnessContrastPass.uniforms.brightness.value=f.DEFAULT_BRIGHTNESS_VALUE+(f.BRIGHTNESS_VALUE-f.DEFAULT_BRIGHTNESS_VALUE)*a,f.blueSaturationPass.uniforms.blueSaturation.value=f.DEFAULT_BLUE_SATURATION_VALUE+(f.BLUE_SATURATION_VALUE-f.DEFAULT_BLUE_SATURATION_VALUE)*a,f.vignettePass.uniforms.offset.value=f.DEFAULT_OFFSET+(f.OFFSET-f.DEFAULT_OFFSET)*a,f.vignettePass.uniforms.darkness.value=f.DEFAULT_DARKNESS+(f.DARKNESS-f.DEFAULT_DARKNESS)*a,f.effect.uniforms.opacity.value=a},d=function(){return e(f.OPACITY_VALUE)},a?(this.render(),c=function(){return null!=b?b():void 0},TweenMax.killTweensOf(this.OPACITY_VALUE),TweenMax.to(this,2,{OPACITY_VALUE:1,onComplete:c,onUpdate:d})):(this.cancelAnimationFrame(),this.OPACITY_VALUE=0,e(this.OPACITY_VALUE),this.composer.render(),this.setOptions(),null!=b?b():void 0)},b.prototype.addEventListener=function(){var a=this;return this.debounce=_.debounce(function(b,c,d,e){return a.resize(b,c,d,e)},250),this.listenTo(App.service,App.service.EVENT_SHADER_SET_TEXTURE,this.updateTexture),this.listenTo(App.service,App.service.EVENT_SHADER_SET_OPACITY,this.animate),this.listenTo(App.service,App.service.EVENT_RESIZE,this.debounce),this.listenToOnce(App.service,App.service.EVENT_SHADER_SWITCH_TIME_DISTORTION,this.onSwitchTimeDistortion)},b.prototype.removeEventListener=function(){return this.stopListening(App.service)},b.prototype.onSwitchTimeDistortion=function(){return this.TIME_DISTORTION=.013,this},b.prototype.resize=function(a,b,c,d){return null==a&&(a=0),null==b&&(b=0),null==c&&(c="auto"),null==d&&(d="auto"),this.$wrapper.css({width:a,height:b,top:c,left:d}),this.canvas.width=this.WIDTH,this.canvas.height=this.HEIGHT,this.camera.aspect=a/b,this.blobPass.uniforms.aspect.value.x=window.innerWidth,this.blobPass.uniforms.aspect.value.y=window.innerHeight,this.renderer.setSize(a,b)},b.prototype.setOptions=function(a,b,c,d,e,f){return null==a&&(a=this.CAMERA_Z_POSITION),null==b&&(b=this.HORIZONTAL_BLUR_VALUE),null==c&&(c=this.VERTICAL_BLUR_VALUE),null==d&&(d=this.CONTRAST_VALUE),null==e&&(e=this.BRIGHTNESS_VALUE),null==f&&(f=this.BLUE_SATURATION_VALUE),this.camera.position.z=a,this.horizontalBlurPass.uniforms.h.value=b,this.verticalBlurPass.uniforms.v.value=c,this.brightnessContrastPass.uniforms.contrast.value=d,this.brightnessContrastPass.uniforms.brightness.value=e,this.blueSaturationPass.uniforms.blueSaturation.value=f,this.vignettePass.uniforms.offset.value=this.OFFSET,this.vignettePass.uniforms.darkness.value=this.DARKNESS},b.prototype.cancelAnimationFrame=function(){return null!=this.raf&&window.cancelAnimationFrame(this.raf),this.raf=null},b}(Backbone.View)}),a("Application.Controller",function(a){return a.SoundsController=function(){function a(){this.removeEventListener=c(this.removeEventListener,this),this.destroy=c(this.destroy,this),this.addEventListener=c(this.addEventListener,this),this.setSound=c(this.setSound,this),this.unmute=c(this.unmute,this),this.mute=c(this.mute,this),this.onTabActive=c(this.onTabActive,this),this.onTabInactive=c(this.onTabInactive,this),this.onVolumeSwitched=c(this.onVolumeSwitched,this),this.onIsDying=c(this.onIsDying,this),this.onPlayBPM=c(this.onPlayBPM,this),this.initBPM=c(this.initBPM,this),this.onPlayStart=c(this.onPlayStart,this),this.onStopIntro=c(this.onStopIntro,this),this.onPlayIntro=c(this.onPlayIntro,this),this.init=c(this.init,this),_.extend(this,Backbone.Events),createjs.HTMLAudioPlugin.enableIOS=!0,createjs.Sound.alternateExtensions=["wav"],createjs.Sound.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin]),this.manifest=[{id:"intro",src:"intro.mp3"},{id:"start",src:"start.mp3"},{id:"BPM",src:"bpm.mp3"}],this.loadProxy=createjs.proxy(this.init,this),createjs.Sound.addEventListener("fileload",this.loadProxy),createjs.Sound.registerManifest(this.manifest,App.config.SOUNDS_PATH)}return a.prototype.muted=!1,a.prototype.loaded=0,a.prototype.BPMloop=null,a.prototype.BPMplaying=!1,a.prototype.lastBPMplay=null,a.prototype.loadProxy=null,a.prototype.manifest=null,a.prototype.introSound=null,a.prototype.startSound=null,a.prototype.BPMSound=null,a.prototype.init=function(){return this.loaded++,this.loaded===this.manifest.length?(this.addEventListener(),App.service.trigger(App.service.EVENT_PLAY_SOUND_INTRO),this.initBPM(),this):void 0},a.prototype.onPlayIntro=function(){return this.introSound=createjs.Sound.play("intro",createjs.Sound.INTERRUPT_NONE,0,0,-1),this.setSound(),this},a.prototype.onStopIntro=function(){return null!=this.introSound?(this.introSound.stop(),this.setSound(),this):void 0},a.prototype.onPlayStart=function(){return this.startSound=createjs.Sound.play("start",createjs.Sound.INTERRUPT_NONE),this.setSound(),this},a.prototype.initBPM=function(){return console.log("initBPM"),this.BPMSound=createjs.Sound.play("BPM",createjs.Sound.INTERRUPT_NONE),this.BPMSound.stop(),this},a.prototype.onPlayBPM=function(a,b,c,d){var e;if(this.BPMSound.playState===createjs.Sound.PLAY_FINISHED)return this.BPMSound.play(),e=.8>d?Application.Utils.normalize(d,0,.8)*b:1-Application.Utils.normalize(d,.8,1),console.log("volume : ",e),this.setSound(e),this},a.prototype.onIsDying=function(){return this},a.prototype.onVolumeSwitched=function(a){return null!=a?(console.log("onVolumeSwitched : ",arguments),a?(this.muted=!0,this.mute()):(this.muted=!1,this.unmute()),this):void 0},a.prototype.onTabInactive=function(){return this.muted?void 0:(this.mute(),this)},a.prototype.onTabActive=function(){return this.muted?void 0:(this.unmute(),this)},a.prototype.mute=function(){return createjs.Sound.setMute(!0),this},a.prototype.unmute=function(){return createjs.Sound.setMute(!1),this},a.prototype.setSound=function(a){return null==a&&(a=1),createjs.Sound.setVolume(a),this},a.prototype.addEventListener=function(){return this.listenToOnce(App.service,App.service.EVENT_PLAY_SOUND_INTRO,this.onPlayIntro),this.listenToOnce(App.service,App.service.EVENT_STOP_SOUND_INTRO,this.onStopIntro),this.listenTo(App.service,App.service.EVENT_CLICK_START_EXPERIENCE,this.onPlayIntro),this.listenToOnce(App.service,App.service.EVENT_PLAY_START_TITLE,this.onPlayStart),this.listenTo(App.service,App.service.EVENT_PLAY_SOUND_BPM,this.onPlayBPM),this.listenTo(App.service,App.service.EVENT_VOLUME_SWITCHED,this.onVolumeSwitched),this.listenTo(App.service,App.service.EVENT_TAB_INACTIVE,this.onTabInactive),this.listenTo(App.service,App.service.EVENT_TAB_ACTIVE,this.onTabActive),this.listenToOnce(App.experienceController,App.experienceController.EVENT_IS_DYING,this.onIsDying),this},a.prototype.destroy=function(){return createjs.Sound.removeAllSounds(),this.removeEventListener(),this},a.prototype.removeEventListener=function(){return this.stopListening(App.service),this.stopListening(App.experienceController),createjs.Sound.removeAllSounds(),this},a}()})}).call(this);